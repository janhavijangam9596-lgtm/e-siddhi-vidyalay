import{r as p,j as e}from"./ui-vendor-CZ9oH99c.js";import{u as O,B as N,S as V,e as q,f as G,g as U,h,C as t,a,b as n,c as r,T as X,i as $,j as c,k as i,l as J}from"./index-CbaydhWW.js";import{P as y}from"./progress-BxpaIchm.js";import{aR as _,a0 as z,h as Q,q as Z,ab as ee,d as se,N as o}from"./icons-vendor-WGRqNp00.js";import{R as f,L as te,b as v,X as w,Y as C,T as A,e as ae,B as ne,f as re,d as S}from"./charts-vendor-CAKBN1xl.js";import"./react-vendor-Dazix4UH.js";import"./db-vendor-BlTxHScW.js";function ge(){const{navigate:D}=O(),[T,M]=p.useState("current"),[le,de]=p.useState("all"),j=85,k=120,B=102,H=18,E=[{subject:"Mathematics",code:"MATH301",totalClasses:45,attendedClasses:42,percentage:93,status:"good",lastAbsent:"5 days ago"},{subject:"Physics",code:"PHY201",totalClasses:40,attendedClasses:35,percentage:87.5,status:"good",lastAbsent:"1 week ago"},{subject:"English",code:"ENG202",totalClasses:30,attendedClasses:22,percentage:73,status:"warning",lastAbsent:"2 days ago"},{subject:"Chemistry",code:"CHEM201",totalClasses:38,attendedClasses:34,percentage:89,status:"good",lastAbsent:"10 days ago"},{subject:"Computer Science",code:"CS301",totalClasses:42,attendedClasses:39,percentage:93,status:"good",lastAbsent:"1 week ago"},{subject:"History",code:"HIST101",totalClasses:25,attendedClasses:17,percentage:68,status:"critical",lastAbsent:"Today"}],P=[{month:"Aug",attendance:92},{month:"Sep",attendance:88},{month:"Oct",attendance:85},{month:"Nov",attendance:87},{month:"Dec",attendance:85},{month:"Jan",attendance:83}],Y=[{day:"Mon",classes:5,attended:5},{day:"Tue",classes:4,attended:3},{day:"Wed",classes:5,attended:4},{day:"Thu",classes:4,attended:4},{day:"Fri",classes:3,attended:3}],L=(()=>{const s=[],l=new Date,u=l.getMonth(),g=l.getFullYear(),I=new Date(g,u+1,0).getDate();for(let x=1;x<=I;x++){const m=new Date(g,u,x),b=m.getDay(),K=m.toLocaleDateString("en-US",{month:"short",day:"numeric"}),R=m.toLocaleDateString("en-US",{weekday:"short"});let d="present";b===0||b===6?d="weekend":Math.random()>.85?d="absent":Math.random()>.95&&(d="holiday"),s.push({date:K,day:R,status:d,subjects:d==="absent"?["MATH301","PHY201","CS301"]:void 0})}return s})(),W=s=>{switch(s){case"good":return"bg-green-100 text-green-800";case"warning":return"bg-yellow-100 text-yellow-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},F=s=>{switch(s){case"present":return"bg-green-100 text-green-800 border-green-300";case"absent":return"bg-red-100 text-red-800 border-red-300";case"holiday":return"bg-blue-100 text-blue-800 border-blue-300";case"weekend":return"bg-gray-100 text-gray-500 border-gray-300";default:return"bg-white"}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(N,{variant:"outline",onClick:()=>D("dashboard"),children:[e.jsx(_,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"My Attendance"}),e.jsx("p",{className:"text-muted-foreground",children:"Track your attendance record"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(V,{value:T,onValueChange:M,children:[e.jsx(q,{className:"w-40",children:e.jsx(G,{})}),e.jsxs(U,{children:[e.jsx(h,{value:"current",children:"Current Month"}),e.jsx(h,{value:"previous",children:"Previous Month"}),e.jsx(h,{value:"semester",children:"This Semester"})]})]}),e.jsxs(N,{variant:"outline",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),"Download Report"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(t,{children:[e.jsxs(a,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Overall Attendance"}),e.jsx(Q,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:[j,"%"]}),e.jsx(y,{value:j,className:"mt-2 h-2"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Above minimum"})]})]}),e.jsxs(t,{children:[e.jsxs(a,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Present Days"}),e.jsx(Z,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:B}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Out of ",k," days"]})]})]}),e.jsxs(t,{children:[e.jsxs(a,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Absent Days"}),e.jsx(ee,{className:"h-4 w-4 text-red-600"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:H}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Total absences"})]})]}),e.jsxs(t,{children:[e.jsxs(a,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Classes Today"}),e.jsx(se,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"5/5"}),e.jsx("p",{className:"text-xs text-green-600",children:"All attended"})]})]})]}),e.jsxs(X,{defaultValue:"subjects",className:"space-y-4",children:[e.jsxs($,{children:[e.jsx(c,{value:"subjects",children:"Subject-wise"}),e.jsx(c,{value:"calendar",children:"Calendar View"}),e.jsx(c,{value:"trends",children:"Trends"}),e.jsx(c,{value:"alerts",children:"Alerts"})]}),e.jsx(i,{value:"subjects",className:"space-y-4",children:e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(n,{children:"Subject-wise Attendance"})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-4",children:E.map((s,l)=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-accent/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:s.subject}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.code})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(J,{className:W(s.status),children:[s.percentage,"%"]}),s.status==="critical"&&e.jsx(o,{className:"h-4 w-4 text-red-600"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{value:s.percentage,className:"h-2"}),e.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Attended: ",s.attendedClasses,"/",s.totalClasses," classes"]}),e.jsxs("span",{children:["Last absent: ",s.lastAbsent]})]})]})]},l))})})]})}),e.jsx(i,{value:"calendar",className:"space-y-4",children:e.jsxs(t,{children:[e.jsxs(a,{children:[e.jsx(n,{children:"Attendance Calendar"}),e.jsxs("div",{className:"flex gap-4 text-sm mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-300 rounded"}),e.jsx("span",{children:"Present"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-red-100 border border-red-300 rounded"}),e.jsx("span",{children:"Absent"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-blue-100 border border-blue-300 rounded"}),e.jsx("span",{children:"Holiday"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-100 border border-gray-300 rounded"}),e.jsx("span",{children:"Weekend"})]})]})]}),e.jsx(r,{children:e.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(s=>e.jsx("div",{className:"text-center text-sm font-medium text-muted-foreground py-2",children:s},s)),Array.from({length:new Date(new Date().getFullYear(),new Date().getMonth(),1).getDay()}).map((s,l)=>e.jsx("div",{},`empty-${l}`)),L.map((s,l)=>e.jsxs("div",{className:`p-2 rounded-lg border text-center cursor-pointer hover:opacity-80 transition-opacity ${F(s.status)}`,title:s.status==="absent"&&s.subjects?`Missed: ${s.subjects.join(", ")}`:"",children:[e.jsx("div",{className:"text-sm font-medium",children:parseInt(s.date.split(" ")[1])}),s.status==="absent"&&e.jsxs("div",{className:"text-xs mt-1",children:[s.subjects?.length," missed"]})]},l))]})})]})}),e.jsxs(i,{value:"trends",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(n,{children:"Monthly Attendance Trend"})}),e.jsx(r,{children:e.jsx(f,{width:"100%",height:300,children:e.jsxs(te,{data:P,children:[e.jsx(v,{strokeDasharray:"3 3"}),e.jsx(w,{dataKey:"month"}),e.jsx(C,{}),e.jsx(A,{}),e.jsx(ae,{type:"monotone",dataKey:"attendance",stroke:"#3B82F6",strokeWidth:2})]})})})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(n,{children:"Weekly Pattern"})}),e.jsx(r,{children:e.jsx(f,{width:"100%",height:300,children:e.jsxs(ne,{data:Y,children:[e.jsx(v,{strokeDasharray:"3 3"}),e.jsx(w,{dataKey:"day"}),e.jsx(C,{}),e.jsx(A,{}),e.jsx(re,{}),e.jsx(S,{dataKey:"classes",fill:"#E5E7EB",name:"Total Classes"}),e.jsx(S,{dataKey:"attended",fill:"#10B981",name:"Attended"})]})})})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(n,{children:"Attendance Statistics"})}),e.jsx(r,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold",children:"Mon"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Best Day (95%)"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold",children:"Tue"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Worst Day (75%)"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold",children:"Morning"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Best Time (92%)"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold",children:"3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Consecutive Presents"})]})]})})]})]}),e.jsx(i,{value:"alerts",className:"space-y-4",children:e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(n,{children:"Attendance Alerts"})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg border-red-200 bg-red-50",children:[e.jsx(o,{className:"h-5 w-5 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-red-900",children:"Critical Attendance - History"}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Your attendance in History (HIST101) is 68%, below the minimum requirement of 75%. You need to attend the next 5 consecutive classes to reach the minimum."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg border-yellow-200 bg-yellow-50",children:[e.jsx(o,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-900",children:"Warning - English"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"Your attendance in English (ENG202) is 73%, close to the minimum requirement. Missing 2 more classes will put you below the threshold."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg border-blue-200 bg-blue-50",children:[e.jsx(o,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900",children:"Upcoming Medical Certificate Deadline"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Submit your medical certificate for absence on Dec 15-17 by tomorrow to avoid penalty."})]})]})]})})]})})]})]})}export{ge as MyAttendance};
