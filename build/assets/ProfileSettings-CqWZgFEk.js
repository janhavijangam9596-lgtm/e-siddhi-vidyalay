import{r as u,j as e}from"./ui-vendor-CZ9oH99c.js";import{s as J,t as n,T as Q,i as W,j as D,k,C as f,a as C,b as P,c as g,A as X,m as Z,n as _,l as ee,B as m,o as z,L as l,I as d,S as p,e as v,f as N,g as y,h as r}from"./index-CbaydhWW.js";import{T as se}from"./textarea-Drs0EPqH.js";import{S as A}from"./switch-CJzLWJat.js";import{l as B,aa as ae,S as O,c as le,aq as E,a7 as re,am as I,J as U,K as L,x as ie}from"./icons-vendor-WGRqNp00.js";import"./react-vendor-Dazix4UH.js";import"./db-vendor-BlTxHScW.js";import"./charts-vendor-CAKBN1xl.js";function je(){const{user:S}=J(),[i,M]=u.useState(!1),[b,o]=u.useState(!1),[a,h]=u.useState({firstName:S?.name?.split(" ")[0]||"",lastName:S?.name?.split(" ")[1]||"",email:S?.email||"",phone:"",dateOfBirth:"",gender:"",address:"",city:"",state:"",pincode:"",emergencyContact:"",emergencyPhone:"",bloodGroup:"",qualification:"",department:S?.role||"",joiningDate:"",employeeId:"",avatar:""}),[x,F]=u.useState({twoFactorEnabled:!1,emailNotifications:!0,smsNotifications:!1,loginAlerts:!0,passwordChangeRequired:!1}),[c,w]=u.useState({language:"en",theme:"system",timezone:"Asia/Kolkata",dateFormat:"DD/MM/YYYY",currency:"INR"}),[j,Y]=u.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[t,T]=u.useState({current:!1,new:!1,confirm:!1});u.useEffect(()=>{R()},[]);const R=async()=>{try{o(!0),console.log("Loading profile data...")}catch{n.error("Failed to load profile data")}finally{o(!1)}},V=async()=>{try{o(!0),console.log("Updating profile:",a),n.success("Profile updated successfully!"),M(!1)}catch{n.error("Failed to update profile")}finally{o(!1)}},G=async()=>{if(j.newPassword!==j.confirmPassword){n.error("Passwords do not match");return}if(j.newPassword.length<8){n.error("Password must be at least 8 characters long");return}try{o(!0),console.log("Changing password..."),n.success("Password changed successfully!"),Y({currentPassword:"",newPassword:"",confirmPassword:""})}catch{n.error("Failed to change password")}finally{o(!1)}},K=async()=>{try{o(!0),console.log("Updating security settings:",x),n.success("Security settings updated!")}catch{n.error("Failed to update security settings")}finally{o(!1)}},q=async()=>{try{o(!0),console.log("Updating preferences:",c),n.success("Preferences updated!")}catch{n.error("Failed to update preferences")}finally{o(!1)}},$=(s,H)=>`${s.charAt(0)}${H.charAt(0)}`.toUpperCase();return e.jsxs("div",{className:"w-full max-w-6xl mx-auto p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Profile Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your personal information and account settings"})]})}),e.jsxs(Q,{defaultValue:"overview",className:"w-full",children:[e.jsxs(W,{className:"grid w-full grid-cols-4",children:[e.jsx(D,{value:"overview",children:"Overview"}),e.jsx(D,{value:"personal",children:"Personal Info"}),e.jsx(D,{value:"security",children:"Security"}),e.jsx(D,{value:"preferences",children:"Preferences"})]}),e.jsx(k,{value:"overview",className:"space-y-6",children:e.jsxs(f,{children:[e.jsx(C,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),"Profile Overview"]})}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(X,{className:"h-24 w-24",children:[e.jsx(Z,{src:a.avatar}),e.jsx(_,{className:"text-2xl",children:$(a.firstName,a.lastName)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"text-xl font-semibold",children:[a.firstName," ",a.lastName]}),e.jsx("p",{className:"text-muted-foreground",children:a.email}),e.jsx(ee,{variant:"secondary",className:"capitalize",children:a.department})]}),e.jsxs(m,{variant:"outline",size:"sm",children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Change Photo"]})]}),e.jsx(z,{}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(f,{children:e.jsxs(g,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Account Status"})]}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Active"})]})}),e.jsx(f,{children:e.jsxs(g,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4 text-blue-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Member Since"})]}),e.jsx("p",{className:"text-2xl font-bold",children:"2024"})]})}),e.jsx(f,{children:e.jsxs(g,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{className:"text-sm font-medium",children:"Last Login"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Today"})]})})]})]})]})}),e.jsx(k,{value:"personal",className:"space-y-6",children:e.jsxs(f,{children:[e.jsx(C,{children:e.jsxs(P,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),"Personal Information"]}),e.jsxs(m,{variant:i?"default":"outline",onClick:()=>M(!i),children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),i?"Cancel":"Edit"]})]})}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"firstName",children:"First Name"}),e.jsx(d,{id:"firstName",value:a.firstName,onChange:s=>h({...a,firstName:s.target.value}),disabled:!i})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"lastName",children:"Last Name"}),e.jsx(d,{id:"lastName",value:a.lastName,onChange:s=>h({...a,lastName:s.target.value}),disabled:!i})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"email",children:"Email"}),e.jsx(d,{id:"email",type:"email",value:a.email,onChange:s=>h({...a,email:s.target.value}),disabled:!i})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone",children:"Phone"}),e.jsx(d,{id:"phone",value:a.phone,onChange:s=>h({...a,phone:s.target.value}),disabled:!i})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"dateOfBirth",children:"Date of Birth"}),e.jsx(d,{id:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:s=>h({...a,dateOfBirth:s.target.value}),disabled:!i})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"gender",children:"Gender"}),e.jsxs(p,{value:a.gender,onValueChange:s=>h({...a,gender:s}),disabled:!i,children:[e.jsx(v,{children:e.jsx(N,{placeholder:"Select gender"})}),e.jsxs(y,{children:[e.jsx(r,{value:"male",children:"Male"}),e.jsx(r,{value:"female",children:"Female"}),e.jsx(r,{value:"other",children:"Other"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"address",children:"Address"}),e.jsx(se,{id:"address",value:a.address,onChange:s=>h({...a,address:s.target.value}),disabled:!i,rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"city",children:"City"}),e.jsx(d,{id:"city",value:a.city,onChange:s=>h({...a,city:s.target.value}),disabled:!i})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"state",children:"State"}),e.jsx(d,{id:"state",value:a.state,onChange:s=>h({...a,state:s.target.value}),disabled:!i})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"pincode",children:"Pincode"}),e.jsx(d,{id:"pincode",value:a.pincode,onChange:s=>h({...a,pincode:s.target.value}),disabled:!i})]})]}),i&&e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(m,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),e.jsxs(m,{onClick:V,disabled:b,children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]})]})]})}),e.jsxs(k,{value:"security",className:"space-y-6",children:[e.jsxs(f,{children:[e.jsx(C,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Change Password"]})}),e.jsxs(g,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"currentPassword",children:"Current Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{id:"currentPassword",type:t.current?"text":"password",value:j.currentPassword,onChange:s=>Y({...j,currentPassword:s.target.value})}),e.jsx(m,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>T({...t,current:!t.current}),children:t.current?e.jsx(U,{className:"h-4 w-4"}):e.jsx(L,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"newPassword",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{id:"newPassword",type:t.new?"text":"password",value:j.newPassword,onChange:s=>Y({...j,newPassword:s.target.value})}),e.jsx(m,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>T({...t,new:!t.new}),children:t.new?e.jsx(U,{className:"h-4 w-4"}):e.jsx(L,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{id:"confirmPassword",type:t.confirm?"text":"password",value:j.confirmPassword,onChange:s=>Y({...j,confirmPassword:s.target.value})}),e.jsx(m,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3",onClick:()=>T({...t,confirm:!t.confirm}),children:t.confirm?e.jsx(U,{className:"h-4 w-4"}):e.jsx(L,{className:"h-4 w-4"})})]})]}),e.jsxs(m,{onClick:G,disabled:b,children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Change Password"]})]})]}),e.jsxs(f,{children:[e.jsx(C,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-5 w-5"}),"Security Settings"]})}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add an extra layer of security to your account"})]}),e.jsx(A,{checked:x.twoFactorEnabled,onCheckedChange:s=>F({...x,twoFactorEnabled:s})})]}),e.jsx(z,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium",children:"Notification Preferences"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),e.jsx(A,{checked:x.emailNotifications,onCheckedChange:s=>F({...x,emailNotifications:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via SMS"})]}),e.jsx(A,{checked:x.smsNotifications,onCheckedChange:s=>F({...x,smsNotifications:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(l,{children:"Login Alerts"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified of new login attempts"})]}),e.jsx(A,{checked:x.loginAlerts,onCheckedChange:s=>F({...x,loginAlerts:s})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(m,{onClick:K,disabled:b,children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Save Security Settings"]})})]})]})]}),e.jsx(k,{value:"preferences",className:"space-y-6",children:e.jsxs(f,{children:[e.jsx(C,{children:e.jsxs(P,{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5"}),"Application Preferences"]})}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"language",children:"Language"}),e.jsxs(p,{value:c.language,onValueChange:s=>w({...c,language:s}),children:[e.jsx(v,{children:e.jsx(N,{})}),e.jsxs(y,{children:[e.jsx(r,{value:"en",children:"English"}),e.jsx(r,{value:"hi",children:"Hindi"}),e.jsx(r,{value:"mr",children:"Marathi"}),e.jsx(r,{value:"ta",children:"Tamil"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"theme",children:"Theme"}),e.jsxs(p,{value:c.theme,onValueChange:s=>w({...c,theme:s}),children:[e.jsx(v,{children:e.jsx(N,{})}),e.jsxs(y,{children:[e.jsx(r,{value:"light",children:"Light"}),e.jsx(r,{value:"dark",children:"Dark"}),e.jsx(r,{value:"system",children:"System"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"timezone",children:"Timezone"}),e.jsxs(p,{value:c.timezone,onValueChange:s=>w({...c,timezone:s}),children:[e.jsx(v,{children:e.jsx(N,{})}),e.jsxs(y,{children:[e.jsx(r,{value:"Asia/Kolkata",children:"Asia/Kolkata (IST)"}),e.jsx(r,{value:"Asia/Dubai",children:"Asia/Dubai (GST)"}),e.jsx(r,{value:"UTC",children:"UTC"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"dateFormat",children:"Date Format"}),e.jsxs(p,{value:c.dateFormat,onValueChange:s=>w({...c,dateFormat:s}),children:[e.jsx(v,{children:e.jsx(N,{})}),e.jsxs(y,{children:[e.jsx(r,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx(r,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx(r,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"currency",children:"Currency"}),e.jsxs(p,{value:c.currency,onValueChange:s=>w({...c,currency:s}),children:[e.jsx(v,{children:e.jsx(N,{})}),e.jsxs(y,{children:[e.jsx(r,{value:"INR",children:"Indian Rupee (₹)"}),e.jsx(r,{value:"USD",children:"US Dollar ($)"}),e.jsx(r,{value:"EUR",children:"Euro (€)"})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(m,{onClick:q,disabled:b,children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})]})]})})]})]})}export{je as ProfileSettings};
