import{r as l,j as e}from"./ui-vendor-CZ9oH99c.js";import{d as h,t as i,B as n,C as o,c as x,T as Ke,i as We,j as S,k as C,I as u,S as A,e as D,f as k,g as L,h as a,L as r,a as v,b as y,A as $e,m as Ge,n as _e,l as F,o as Ze}from"./index-CbaydhWW.js";import{T as _,a as Z,b as E,c as p,d as J,e as g}from"./table-SvwjoT6S.js";import{D as Q,a as X,b as ee,c as se,d as ae,e as re}from"./dialog-GASJ86Ds.js";import{T as te}from"./textarea-Drs0EPqH.js";import{P as T}from"./progress-BxpaIchm.js";import{C as Je}from"./checkbox-DjQKjGtE.js";import{S as I}from"./switch-CJzLWJat.js";import{R as Qe,a0 as le,U as ie,b as Xe,w as es,S as ne,s as ss,Z as ce,K as as,aL as rs,aM as ts,aq as ls,a6 as de,aN as is,a7 as ns,am as oe,aO as cs,aP as ds}from"./icons-vendor-WGRqNp00.js";import"./react-vendor-Dazix4UH.js";import"./db-vendor-BlTxHScW.js";import"./charts-vendor-CAKBN1xl.js";function Ss(){const[xe,me]=l.useState([]),[he,je]=l.useState([]),[ue,pe]=l.useState([]),[ge,ve]=l.useState([]),[c,K]=l.useState({cpu:0,memory:0,disk:0,network:0,activeUsers:0,totalUsers:0,uptime:"",lastBackup:"",systemHealth:"healthy"}),[Ne,fe]=l.useState([]),[j,b]=l.useState({twoFactorAuth:!1,passwordExpiry:90,sessionTimeout:30,maxLoginAttempts:5,ipWhitelist:[],requireStrongPassword:!0,minPasswordLength:8}),[d,w]=l.useState({maintenanceMode:!1,debugMode:!1,apiRateLimit:100,maxFileSize:10,allowedFileTypes:["pdf","doc","docx","xls","xlsx","jpg","png"],timezone:"Asia/Kolkata",dateFormat:"DD/MM/YYYY",currency:"INR",language:"en"}),[P,ye]=l.useState({totalUsers:0,activeUsers:0,newUsersToday:0,totalRoles:0,failedLogins:0,systemUptime:"",lastSystemUpdate:"",pendingApprovals:0}),[we,Se]=l.useState(!0),[Ce,B]=l.useState(!1),[be,z]=l.useState(!1),[R,Ue]=l.useState(""),[H,Ae]=l.useState(""),[O,De]=l.useState(""),[W]=l.useState(1),[$]=l.useState(10),[t,N]=l.useState({username:"",email:"",firstName:"",lastName:"",password:"",confirmPassword:"",role:"teacher",department:"",permissions:[]}),[M,V]=l.useState({name:"",description:"",permissions:[]});l.useEffect(()=>{U();const s=setInterval(ke,5e3);return()=>clearInterval(s)},[]);const U=async()=>{try{const[s,m,f,q,Oe,Ve,qe]=await Promise.all([h.getAdminUsers(),h.getRoles(),h.getPermissions(),h.getAuditLogs(),h.getSystemMetrics(),h.getBackupRecords(),h.getAdminStats()]);me(s),je(m),pe(f),ve(q),K(Oe),fe(Ve),ye(qe)}catch(s){i.error("Failed to load admin data"),console.error(s)}finally{Se(!1)}},ke=async()=>{try{const s=await h.getSystemMetrics();K(s)}catch(s){console.error("Failed to load system metrics:",s)}},Le=async()=>{if(t.password!==t.confirmPassword){i.error("Passwords do not match");return}try{const s={...t,status:"active",loginAttempts:0,permissions:t.permissions};await h.createAdminUser(s),i.success("User created successfully"),B(!1),Ee(),U()}catch(s){i.error("Failed to create user"),console.error(s)}},Fe=async()=>{try{const s={...M,usersCount:0,isSystem:!1};await h.createRole(s),i.success("Role created successfully"),z(!1),Ie(),U()}catch(s){i.error("Failed to create role"),console.error(s)}},Pe=async s=>{if(confirm("Are you sure you want to delete this user?"))try{await h.deleteAdminUser(s),i.success("User deleted successfully"),U()}catch(m){i.error("Failed to delete user"),console.error(m)}},Re=async s=>{try{await h.resetUserPassword(s),i.success("Password reset email sent")}catch(m){i.error("Failed to reset password"),console.error(m)}},Me=async(s,m)=>{const f=m==="active"?"inactive":"active";try{await h.updateAdminUser(s,{status:f}),i.success(`User ${f==="active"?"activated":"deactivated"}`),U()}catch(q){i.error("Failed to update user status"),console.error(q)}},G=async()=>{try{await h.createBackup(),i.success("Backup initiated successfully"),U()}catch(s){i.error("Failed to create backup"),console.error(s)}},Te=async()=>{try{await h.updateSecuritySettings(j),i.success("Security settings updated")}catch(s){i.error("Failed to update security settings"),console.error(s)}},Ye=async()=>{try{await h.updateSystemConfiguration(d),i.success("System configuration updated")}catch(s){i.error("Failed to update system configuration"),console.error(s)}},Ee=()=>{N({username:"",email:"",firstName:"",lastName:"",password:"",confirmPassword:"",role:"teacher",department:"",permissions:[]})},Ie=()=>{V({name:"",description:"",permissions:[]})},Be=s=>{switch(s){case"admin":return"bg-red-100 text-red-800";case"principal":return"bg-purple-100 text-purple-800";case"teacher":return"bg-blue-100 text-blue-800";case"student":return"bg-green-100 text-green-800";case"parent":return"bg-yellow-100 text-yellow-800";case"accountant":return"bg-orange-100 text-orange-800";case"librarian":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}},Y=s=>{switch(s){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"suspended":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"success":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},ze=s=>{switch(s){case"healthy":return"text-green-600";case"warning":return"text-yellow-600";case"critical":return"text-red-600";default:return"text-gray-600"}},He=xe.filter(s=>(s.username.toLowerCase().includes(R.toLowerCase())||s.email.toLowerCase().includes(R.toLowerCase())||s.firstName.toLowerCase().includes(R.toLowerCase())||s.lastName.toLowerCase().includes(R.toLowerCase()))&&(H===""||s.role===H)&&(O===""||s.status===O)).slice((W-1)*$,W*$);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Admin Management"}),e.jsx("p",{className:"text-muted-foreground",children:"System administration, user management, and security controls"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{variant:"outline",onClick:U,children:[e.jsx(Qe,{className:"mr-2 h-4 w-4"}),"Refresh"]}),e.jsxs(n,{variant:"outline",onClick:G,children:[e.jsx(le,{className:"mr-2 h-4 w-4"}),"Backup Now"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(o,{children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Users"}),e.jsx("p",{className:"text-2xl font-bold",children:P.totalUsers}),e.jsxs("p",{className:"text-xs text-green-600",children:["+",P.newUsersToday," today"]})]}),e.jsx(ie,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(o,{children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Users"}),e.jsx("p",{className:"text-2xl font-bold",children:P.activeUsers}),e.jsx(T,{value:P.activeUsers/P.totalUsers*100,className:"mt-2"})]}),e.jsx(Xe,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(o,{children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"System Health"}),e.jsx("p",{className:`text-2xl font-bold ${ze(c.systemHealth)}`,children:c.systemHealth.toUpperCase()}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Uptime: ",c.uptime]})]}),e.jsx(es,{className:"h-8 w-8 text-purple-600"})]})})}),e.jsx(o,{children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Security"}),e.jsx("p",{className:"text-2xl font-bold",children:P.failedLogins}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Failed logins today"})]}),e.jsx(ne,{className:"h-8 w-8 text-orange-600"})]})})})]}),e.jsxs(Ke,{defaultValue:"users",className:"w-full",children:[e.jsxs(We,{className:"grid w-full grid-cols-8",children:[e.jsx(S,{value:"users",children:"Users"}),e.jsx(S,{value:"roles",children:"Roles"}),e.jsx(S,{value:"permissions",children:"Permissions"}),e.jsx(S,{value:"security",children:"Security"}),e.jsx(S,{value:"system",children:"System"}),e.jsx(S,{value:"backup",children:"Backup"}),e.jsx(S,{value:"audit",children:"Audit Logs"}),e.jsx(S,{value:"monitoring",children:"Monitoring"})]}),e.jsxs(C,{value:"users",className:"space-y-4",children:[e.jsx(o,{children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[e.jsx("div",{className:"flex-1 min-w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(ss,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(u,{placeholder:"Search users...",value:R,onChange:s=>Ue(s.target.value),className:"pl-10"})]})}),e.jsxs(A,{value:H,onValueChange:s=>Ae(s),children:[e.jsx(D,{className:"w-48",children:e.jsx(k,{placeholder:"Filter by role"})}),e.jsxs(L,{children:[e.jsx(a,{value:"",children:"All Roles"}),e.jsx(a,{value:"admin",children:"Admin"}),e.jsx(a,{value:"principal",children:"Principal"}),e.jsx(a,{value:"teacher",children:"Teacher"}),e.jsx(a,{value:"student",children:"Student"}),e.jsx(a,{value:"parent",children:"Parent"}),e.jsx(a,{value:"accountant",children:"Accountant"}),e.jsx(a,{value:"librarian",children:"Librarian"})]})]}),e.jsxs(A,{value:O,onValueChange:s=>De(s),children:[e.jsx(D,{className:"w-48",children:e.jsx(k,{placeholder:"Filter by status"})}),e.jsxs(L,{children:[e.jsx(a,{value:"",children:"All Status"}),e.jsx(a,{value:"active",children:"Active"}),e.jsx(a,{value:"inactive",children:"Inactive"}),e.jsx(a,{value:"suspended",children:"Suspended"}),e.jsx(a,{value:"pending",children:"Pending"})]})]}),e.jsxs(Q,{open:Ce,onOpenChange:B,children:[e.jsx(X,{asChild:!0,children:e.jsxs(n,{children:[e.jsx(ce,{className:"mr-2 h-4 w-4"}),"Add User"]})}),e.jsxs(ee,{className:"max-w-2xl",children:[e.jsxs(se,{children:[e.jsx(ae,{children:"Add New User"}),e.jsx(re,{children:"Create a new user account with specific roles and permissions"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"firstName",children:"First Name"}),e.jsx(u,{id:"firstName",value:t.firstName,onChange:s=>N({...t,firstName:s.target.value}),placeholder:"Enter first name"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"lastName",children:"Last Name"}),e.jsx(u,{id:"lastName",value:t.lastName,onChange:s=>N({...t,lastName:s.target.value}),placeholder:"Enter last name"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"username",children:"Username"}),e.jsx(u,{id:"username",value:t.username,onChange:s=>N({...t,username:s.target.value}),placeholder:"Enter username"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"email",children:"Email"}),e.jsx(u,{id:"email",type:"email",value:t.email,onChange:s=>N({...t,email:s.target.value}),placeholder:"Enter email"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"password",children:"Password"}),e.jsx(u,{id:"password",type:"password",value:t.password,onChange:s=>N({...t,password:s.target.value}),placeholder:"Enter password"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx(u,{id:"confirmPassword",type:"password",value:t.confirmPassword,onChange:s=>N({...t,confirmPassword:s.target.value}),placeholder:"Confirm password"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"role",children:"Role"}),e.jsxs(A,{value:t.role,onValueChange:s=>N({...t,role:s}),children:[e.jsx(D,{children:e.jsx(k,{placeholder:"Select role"})}),e.jsxs(L,{children:[e.jsx(a,{value:"admin",children:"Admin"}),e.jsx(a,{value:"principal",children:"Principal"}),e.jsx(a,{value:"teacher",children:"Teacher"}),e.jsx(a,{value:"student",children:"Student"}),e.jsx(a,{value:"parent",children:"Parent"}),e.jsx(a,{value:"accountant",children:"Accountant"}),e.jsx(a,{value:"librarian",children:"Librarian"})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"department",children:"Department"}),e.jsx(u,{id:"department",value:t.department,onChange:s=>N({...t,department:s.target.value}),placeholder:"Enter department (optional)"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(n,{variant:"outline",onClick:()=>B(!1),children:"Cancel"}),e.jsx(n,{onClick:Le,children:"Create User"})]})]})]})]})})}),e.jsxs(o,{children:[e.jsx(v,{children:e.jsx(y,{children:"User Accounts"})}),e.jsx(x,{children:we?e.jsx("div",{className:"flex justify-center items-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(_,{children:[e.jsx(Z,{children:e.jsxs(E,{children:[e.jsx(p,{children:"User"}),e.jsx(p,{children:"Username"}),e.jsx(p,{children:"Email"}),e.jsx(p,{children:"Role"}),e.jsx(p,{children:"Department"}),e.jsx(p,{children:"Status"}),e.jsx(p,{children:"Last Login"}),e.jsx(p,{children:"Actions"})]})}),e.jsx(J,{children:He.map(s=>e.jsxs(E,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs($e,{className:"h-8 w-8",children:[e.jsx(Ge,{src:s.avatar}),e.jsxs(_e,{children:[(s.firstName||"?")[0],(s.lastName||"?")[0]]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[s.firstName," ",s.lastName]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",s.id]})]})]})}),e.jsx(g,{children:s.username}),e.jsx(g,{children:s.email}),e.jsx(g,{children:e.jsx(F,{className:Be(s.role),children:s.role})}),e.jsx(g,{children:s.department||"-"}),e.jsx(g,{children:e.jsx(F,{className:Y(s.status),children:s.status})}),e.jsx(g,{children:s.lastLogin?new Date(s.lastLogin).toLocaleDateString():"Never"}),e.jsx(g,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{size:"sm",variant:"outline",onClick:()=>{},children:e.jsx(as,{className:"h-4 w-4"})}),e.jsx(n,{size:"sm",variant:"outline",onClick:()=>Me(s.id,s.status),children:s.status==="active"?e.jsx(rs,{className:"h-4 w-4"}):e.jsx(ts,{className:"h-4 w-4"})}),e.jsx(n,{size:"sm",variant:"outline",onClick:()=>Re(s.id),children:e.jsx(ls,{className:"h-4 w-4"})}),e.jsx(n,{size:"sm",variant:"outline",onClick:()=>Pe(s.id),children:e.jsx(de,{className:"h-4 w-4"})})]})})]},s.id))})]})})})]})]}),e.jsx(C,{value:"roles",className:"space-y-4",children:e.jsxs(o,{children:[e.jsxs(v,{className:"flex flex-row items-center justify-between",children:[e.jsx(y,{children:"Role Management"}),e.jsxs(Q,{open:be,onOpenChange:z,children:[e.jsx(X,{asChild:!0,children:e.jsxs(n,{children:[e.jsx(ce,{className:"mr-2 h-4 w-4"}),"Add Role"]})}),e.jsxs(ee,{children:[e.jsxs(se,{children:[e.jsx(ae,{children:"Create New Role"}),e.jsx(re,{children:"Define a new role with specific permissions"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"roleName",children:"Role Name"}),e.jsx(u,{id:"roleName",value:M.name,onChange:s=>V({...M,name:s.target.value}),placeholder:"Enter role name"})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"roleDescription",children:"Description"}),e.jsx(te,{id:"roleDescription",value:M.description,onChange:s=>V({...M,description:s.target.value}),placeholder:"Enter role description"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(n,{variant:"outline",onClick:()=>z(!1),children:"Cancel"}),e.jsx(n,{onClick:Fe,children:"Create Role"})]})]})]})]}),e.jsx(x,{children:e.jsx("div",{className:"space-y-4",children:he.map(s=>e.jsx(o,{children:e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ne,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.description})]})]}),e.jsxs("div",{className:"flex gap-4 mt-2 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ie,{className:"h-4 w-4"}),s.usersCount," users"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(is,{className:"h-4 w-4"}),s.permissions.length," permissions"]}),s.isSystem&&e.jsx(F,{variant:"secondary",children:"System Role"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{size:"sm",variant:"outline",children:e.jsx(ns,{className:"h-4 w-4"})}),!s.isSystem&&e.jsx(n,{size:"sm",variant:"outline",children:e.jsx(de,{className:"h-4 w-4"})})]})]})})},s.id))})})]})}),e.jsx(C,{value:"permissions",className:"space-y-4",children:e.jsxs(o,{children:[e.jsx(v,{children:e.jsx(y,{children:"Permission Matrix"})}),e.jsx(x,{children:e.jsx("div",{className:"space-y-4",children:Object.entries(ue.reduce((s,m)=>(s[m.module]||(s[m.module]=[]),s[m.module].push(m),s),{})).map(([s,m])=>e.jsxs(o,{children:[e.jsx(v,{className:"py-3",children:e.jsx("h4",{className:"font-semibold capitalize",children:s})}),e.jsx(x,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:m.map(f=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Je,{id:f.id}),e.jsx(r,{htmlFor:f.id,className:"text-sm",children:f.name})]},f.id))})})]},s))})})]})}),e.jsx(C,{value:"security",className:"space-y-4",children:e.jsxs(o,{children:[e.jsx(v,{children:e.jsx(y,{children:"Security Settings"})}),e.jsxs(x,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Require 2FA for all users"})]}),e.jsx(I,{checked:j.twoFactorAuth,onCheckedChange:s=>b({...j,twoFactorAuth:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Strong Password Required"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enforce password complexity"})]}),e.jsx(I,{checked:j.requireStrongPassword,onCheckedChange:s=>b({...j,requireStrongPassword:s})})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Minimum Password Length"}),e.jsx(u,{type:"number",value:j.minPasswordLength,onChange:s=>b({...j,minPasswordLength:parseInt(s.target.value)}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Password Expiry (days)"}),e.jsx(u,{type:"number",value:j.passwordExpiry,onChange:s=>b({...j,passwordExpiry:parseInt(s.target.value)}),className:"mt-1"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Session Timeout (minutes)"}),e.jsx(u,{type:"number",value:j.sessionTimeout,onChange:s=>b({...j,sessionTimeout:parseInt(s.target.value)}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Max Login Attempts"}),e.jsx(u,{type:"number",value:j.maxLoginAttempts,onChange:s=>b({...j,maxLoginAttempts:parseInt(s.target.value)}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(r,{children:"IP Whitelist"}),e.jsx(te,{placeholder:"Enter IP addresses (one per line)",value:j.ipWhitelist.join(`
`),onChange:s=>b({...j,ipWhitelist:s.target.value.split(`
`).filter(m=>m)}),className:"mt-1",rows:4})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(n,{onClick:Te,children:[e.jsx(oe,{className:"mr-2 h-4 w-4"}),"Save Security Settings"]})})]})]})}),e.jsx(C,{value:"system",className:"space-y-4",children:e.jsxs(o,{children:[e.jsx(v,{children:e.jsx(y,{children:"System Configuration"})}),e.jsxs(x,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Maintenance Mode"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Disable user access temporarily"})]}),e.jsx(I,{checked:d.maintenanceMode,onCheckedChange:s=>w({...d,maintenanceMode:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Debug Mode"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable detailed error logging"})]}),e.jsx(I,{checked:d.debugMode,onCheckedChange:s=>w({...d,debugMode:s})})]}),e.jsxs("div",{children:[e.jsx(r,{children:"API Rate Limit (requests/minute)"}),e.jsx(u,{type:"number",value:d.apiRateLimit,onChange:s=>w({...d,apiRateLimit:parseInt(s.target.value)}),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Max File Size (MB)"}),e.jsx(u,{type:"number",value:d.maxFileSize,onChange:s=>w({...d,maxFileSize:parseInt(s.target.value)}),className:"mt-1"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{children:"Timezone"}),e.jsxs(A,{value:d.timezone,onValueChange:s=>w({...d,timezone:s}),children:[e.jsx(D,{children:e.jsx(k,{})}),e.jsxs(L,{children:[e.jsx(a,{value:"Asia/Kolkata",children:"Asia/Kolkata"}),e.jsx(a,{value:"UTC",children:"UTC"}),e.jsx(a,{value:"America/New_York",children:"America/New York"}),e.jsx(a,{value:"Europe/London",children:"Europe/London"})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Date Format"}),e.jsxs(A,{value:d.dateFormat,onValueChange:s=>w({...d,dateFormat:s}),children:[e.jsx(D,{children:e.jsx(k,{})}),e.jsxs(L,{children:[e.jsx(a,{value:"DD/MM/YYYY",children:"DD/MM/YYYY"}),e.jsx(a,{value:"MM/DD/YYYY",children:"MM/DD/YYYY"}),e.jsx(a,{value:"YYYY-MM-DD",children:"YYYY-MM-DD"})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Currency"}),e.jsxs(A,{value:d.currency,onValueChange:s=>w({...d,currency:s}),children:[e.jsx(D,{children:e.jsx(k,{})}),e.jsxs(L,{children:[e.jsx(a,{value:"INR",children:"INR (₹)"}),e.jsx(a,{value:"USD",children:"USD ($)"}),e.jsx(a,{value:"EUR",children:"EUR (€)"}),e.jsx(a,{value:"GBP",children:"GBP (£)"})]})]})]}),e.jsxs("div",{children:[e.jsx(r,{children:"Language"}),e.jsxs(A,{value:d.language,onValueChange:s=>w({...d,language:s}),children:[e.jsx(D,{children:e.jsx(k,{})}),e.jsxs(L,{children:[e.jsx(a,{value:"en",children:"English"}),e.jsx(a,{value:"hi",children:"Hindi"}),e.jsx(a,{value:"es",children:"Spanish"}),e.jsx(a,{value:"fr",children:"French"})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(n,{onClick:Ye,children:[e.jsx(oe,{className:"mr-2 h-4 w-4"}),"Save Configuration"]})})]})]})}),e.jsx(C,{value:"backup",className:"space-y-4",children:e.jsxs(o,{children:[e.jsxs(v,{className:"flex flex-row items-center justify-between",children:[e.jsx(y,{children:"Backup Management"}),e.jsxs(n,{onClick:G,children:[e.jsx(cs,{className:"mr-2 h-4 w-4"}),"Create Backup"]})]}),e.jsx(x,{children:e.jsx("div",{className:"space-y-4",children:Ne.map(s=>e.jsx(o,{children:e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ds,{className:"h-5 w-5 text-blue-600"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-medium",children:["Backup #",s.id]}),e.jsx(F,{className:Y(s.status),children:s.status}),e.jsx(F,{variant:"outline",children:s.type})]}),e.jsxs("div",{className:"flex gap-4 mt-1 text-sm text-muted-foreground",children:[e.jsxs("span",{children:["Size: ",s.size]}),e.jsxs("span",{children:["Duration: ",s.duration]}),e.jsxs("span",{children:["Created by: ",s.createdBy]}),e.jsx("span",{children:new Date(s.timestamp).toLocaleString()})]})]})]})}),s.status==="completed"&&e.jsx(n,{size:"sm",variant:"outline",children:e.jsx(le,{className:"h-4 w-4"})})]})})},s.id))})})]})}),e.jsx(C,{value:"audit",className:"space-y-4",children:e.jsxs(o,{children:[e.jsx(v,{children:e.jsx(y,{children:"Audit Logs"})}),e.jsx(x,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(_,{children:[e.jsx(Z,{children:e.jsxs(E,{children:[e.jsx(p,{children:"Timestamp"}),e.jsx(p,{children:"User"}),e.jsx(p,{children:"Action"}),e.jsx(p,{children:"Module"}),e.jsx(p,{children:"Details"}),e.jsx(p,{children:"IP Address"}),e.jsx(p,{children:"Status"})]})}),e.jsx(J,{children:ge.map(s=>e.jsxs(E,{children:[e.jsx(g,{children:new Date(s.timestamp).toLocaleString()}),e.jsx(g,{children:s.userName}),e.jsx(g,{children:s.action}),e.jsx(g,{children:s.module}),e.jsx(g,{className:"max-w-xs truncate",children:s.details}),e.jsx(g,{children:s.ipAddress}),e.jsx(g,{children:e.jsx(F,{className:Y(s.status),children:s.status})})]},s.id))})]})})})]})}),e.jsx(C,{value:"monitoring",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(o,{children:[e.jsx(v,{children:e.jsx(y,{children:"System Resources"})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"CPU Usage"}),e.jsxs("span",{className:"text-sm",children:[c.cpu,"%"]})]}),e.jsx(T,{value:c.cpu,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Memory Usage"}),e.jsxs("span",{className:"text-sm",children:[c.memory,"%"]})]}),e.jsx(T,{value:c.memory,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Disk Usage"}),e.jsxs("span",{className:"text-sm",children:[c.disk,"%"]})]}),e.jsx(T,{value:c.disk,className:"h-2"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Network Usage"}),e.jsxs("span",{className:"text-sm",children:[c.network,"%"]})]}),e.jsx(T,{value:c.network,className:"h-2"})]})]})]}),e.jsxs(o,{children:[e.jsx(v,{children:e.jsx(y,{children:"System Status"})}),e.jsxs(x,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"System Health"}),e.jsx(F,{className:Y(c.systemHealth),children:c.systemHealth})]}),e.jsx(Ze,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Active Users"}),e.jsx("span",{className:"font-medium",children:c.activeUsers})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Total Users"}),e.jsx("span",{className:"font-medium",children:c.totalUsers})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"System Uptime"}),e.jsx("span",{className:"font-medium",children:c.uptime})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Last Backup"}),e.jsx("span",{className:"font-medium",children:c.lastBackup})]})]})]})]})})]})]})}export{Ss as AdminManagement};
