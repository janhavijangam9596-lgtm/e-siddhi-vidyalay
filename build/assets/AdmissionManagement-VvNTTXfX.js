import{r as t,j as e}from"./ui-vendor-CZ9oH99c.js";import{d as S,t as j,B as d,T as we,i as Se,j as O,k as L,L as n,I as c,S as u,e as m,f as p,g as v,h as a,C as h,c as x,a as b,b as A,l as R}from"./index-CbaydhWW.js";import{T as be,a as Ae,b as Y,c as g,d as Fe,e as N}from"./table-SvwjoT6S.js";import{D as ee,a as ke,b as se,c as ae,d as le,e as re}from"./dialog-GASJ86Ds.js";import{T as U}from"./textarea-Drs0EPqH.js";import{C as _}from"./checkbox-DjQKjGtE.js";import{R as De,Z as Pe,U as Be,d as ie,q as K,V as Ee,s as Te,a4 as Ie,G as Ge,a2 as Oe,ab as ne,K as Le,a7 as Re,c as _e}from"./icons-vendor-WGRqNp00.js";import"./react-vendor-Dazix4UH.js";import"./db-vendor-BlTxHScW.js";import"./charts-vendor-CAKBN1xl.js";function rs(){const[te,de]=t.useState([]),[P,W]=t.useState({total:0,pending:0,approved:0,rejected:0,waitlisted:0,interview_scheduled:0,documents_pending:0,conversionRate:0,averageProcessingTime:0}),[ce,oe]=t.useState(!0),[he,V]=t.useState(!1),[xe,$]=t.useState(!1),[Ve,je]=t.useState(!1),[r,q]=t.useState(null),[F,ue]=t.useState(""),[B,me]=t.useState(""),[E,pe]=t.useState(""),[T,ve]=t.useState(""),[M,Me]=t.useState(""),[ze,He]=t.useState(""),[f,X]=t.useState(1),[k]=t.useState(10),[Ue,Ke]=t.useState("applicationDate"),[We,$e]=t.useState("desc"),[C,y]=t.useState([]),[l,i]=t.useState({firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",gender:"",address:"",parentName:"",parentPhone:"",parentEmail:"",emergencyContact:"",previousSchool:"",previousGrade:"",appliedClass:"",appliedSection:"",nationality:"",religion:"",bloodGroup:"",medicalConditions:"",siblingInSchool:!1,scholarshipApplied:!1,priority:"medium",source:"online",referredBy:"",remarks:""});t.useEffect(()=>{w(),I()},[]);const w=async()=>{try{const s=await S.getAdmissions();de(s)}catch(s){j.error("Failed to load admissions"),console.error(s)}finally{oe(!1)}},I=async()=>{try{const s=await S.getAdmissionStats();W(s||{total:0,pending:0,approved:0,rejected:0,waitlisted:0,interview_scheduled:0,documents_pending:0,conversionRate:0,averageProcessingTime:0})}catch(s){console.error("Failed to load admission stats:",s),W({total:0,pending:0,approved:0,rejected:0,waitlisted:0,interview_scheduled:0,documents_pending:0,conversionRate:0,averageProcessingTime:0})}},ge=async()=>{try{const s=`ADM${Date.now()}`,o={...l,applicationNumber:s,applicationDate:new Date().toISOString(),status:"pending",documents:[]};await S.createAdmission(o),j.success("Admission application created successfully"),V(!1),fe(),w(),I()}catch(s){j.error("Failed to create admission application"),console.error(s)}},z=async(s,o,D)=>{try{await S.updateAdmission(s,{status:o,remarks:D}),j.success("Status updated successfully"),w(),I()}catch(ye){j.error("Failed to update status"),console.error(ye)}},Ne=async(s,o)=>{try{await S.updateAdmission(s,{status:"interview_scheduled",interviewDate:o}),j.success("Interview scheduled successfully"),w()}catch(D){j.error("Failed to schedule interview"),console.error(D)}},Z=async s=>{try{await S.bulkUpdateAdmissions(C,{status:s}),j.success(`Bulk ${s} completed successfully`),y([]),w(),I()}catch(o){j.error(`Failed to perform bulk ${s}`),console.error(o)}},fe=()=>{i({firstName:"",lastName:"",email:"",phone:"",dateOfBirth:"",gender:"",address:"",parentName:"",parentPhone:"",parentEmail:"",emergencyContact:"",previousSchool:"",previousGrade:"",appliedClass:"",appliedSection:"",nationality:"",religion:"",bloodGroup:"",medicalConditions:"",siblingInSchool:!1,scholarshipApplied:!1,priority:"medium",source:"online",referredBy:"",remarks:""})},J=s=>{switch(s){case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";case"waitlisted":return"bg-blue-100 text-blue-800";case"interview_scheduled":return"bg-purple-100 text-purple-800";case"documents_pending":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Q=s=>{switch(s){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},G=te.filter(s=>(s.firstName.toLowerCase().includes(F.toLowerCase())||s.lastName.toLowerCase().includes(F.toLowerCase())||s.applicationNumber.toLowerCase().includes(F.toLowerCase())||s.email.toLowerCase().includes(F.toLowerCase()))&&(B===""||B==="all"||s.status===B)&&(E===""||E==="all"||s.appliedClass===E)&&(T===""||T==="all"||s.priority===T)&&(M===""||M==="all"||s.source===M)),Ce=Math.ceil(G.length/k),H=G.slice((f-1)*k,f*k);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Admission Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage student admission applications and processes"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(d,{variant:"outline",onClick:w,children:[e.jsx(De,{className:"mr-2 h-4 w-4"}),"Refresh"]}),e.jsxs(ee,{open:he,onOpenChange:V,children:[e.jsx(ke,{asChild:!0,children:e.jsxs(d,{children:[e.jsx(Pe,{className:"mr-2 h-4 w-4"}),"New Application"]})}),e.jsxs(se,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ae,{children:[e.jsx(le,{children:"New Admission Application"}),e.jsx(re,{children:"Create a new admission application for a prospective student"})]}),e.jsxs(we,{defaultValue:"personal",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-4",children:[e.jsx(O,{value:"personal",children:"Personal Info"}),e.jsx(O,{value:"academic",children:"Academic Info"}),e.jsx(O,{value:"parent",children:"Parent/Guardian"}),e.jsx(O,{value:"additional",children:"Additional Info"})]}),e.jsxs(L,{value:"personal",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"firstName",children:"First Name"}),e.jsx(c,{id:"firstName",value:l.firstName,onChange:s=>i({...l,firstName:s.target.value}),placeholder:"Enter first name"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"lastName",children:"Last Name"}),e.jsx(c,{id:"lastName",value:l.lastName,onChange:s=>i({...l,lastName:s.target.value}),placeholder:"Enter last name"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",children:"Email"}),e.jsx(c,{id:"email",type:"email",value:l.email,onChange:s=>i({...l,email:s.target.value}),placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"phone",children:"Phone"}),e.jsx(c,{id:"phone",value:l.phone,onChange:s=>i({...l,phone:s.target.value}),placeholder:"Enter phone number"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"dateOfBirth",children:"Date of Birth"}),e.jsx(c,{id:"dateOfBirth",type:"date",value:l.dateOfBirth,onChange:s=>i({...l,dateOfBirth:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"gender",children:"Gender"}),e.jsxs(u,{value:l.gender,onValueChange:s=>i({...l,gender:s}),children:[e.jsx(m,{children:e.jsx(p,{placeholder:"Select gender"})}),e.jsxs(v,{children:[e.jsx(a,{value:"male",children:"Male"}),e.jsx(a,{value:"female",children:"Female"}),e.jsx(a,{value:"other",children:"Other"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"address",children:"Address"}),e.jsx(U,{id:"address",value:l.address,onChange:s=>i({...l,address:s.target.value}),placeholder:"Enter full address"})]})]}),e.jsxs(L,{value:"academic",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"appliedClass",children:"Applied Class"}),e.jsxs(u,{value:l.appliedClass,onValueChange:s=>i({...l,appliedClass:s}),children:[e.jsx(m,{children:e.jsx(p,{placeholder:"Select class"})}),e.jsxs(v,{children:[e.jsx(a,{value:"nursery",children:"Nursery"}),e.jsx(a,{value:"kindergarten",children:"Kindergarten"}),e.jsx(a,{value:"1",children:"Class 1"}),e.jsx(a,{value:"2",children:"Class 2"}),e.jsx(a,{value:"3",children:"Class 3"}),e.jsx(a,{value:"4",children:"Class 4"}),e.jsx(a,{value:"5",children:"Class 5"}),e.jsx(a,{value:"6",children:"Class 6"}),e.jsx(a,{value:"7",children:"Class 7"}),e.jsx(a,{value:"8",children:"Class 8"}),e.jsx(a,{value:"9",children:"Class 9"}),e.jsx(a,{value:"10",children:"Class 10"}),e.jsx(a,{value:"11",children:"Class 11"}),e.jsx(a,{value:"12",children:"Class 12"})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"appliedSection",children:"Applied Section"}),e.jsxs(u,{value:l.appliedSection,onValueChange:s=>i({...l,appliedSection:s}),children:[e.jsx(m,{children:e.jsx(p,{placeholder:"Select section"})}),e.jsxs(v,{children:[e.jsx(a,{value:"A",children:"Section A"}),e.jsx(a,{value:"B",children:"Section B"}),e.jsx(a,{value:"C",children:"Section C"}),e.jsx(a,{value:"D",children:"Section D"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"previousSchool",children:"Previous School"}),e.jsx(c,{id:"previousSchool",value:l.previousSchool,onChange:s=>i({...l,previousSchool:s.target.value}),placeholder:"Enter previous school name"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"previousGrade",children:"Previous Grade"}),e.jsx(c,{id:"previousGrade",value:l.previousGrade,onChange:s=>i({...l,previousGrade:s.target.value}),placeholder:"Enter previous grade"})]})]})]}),e.jsxs(L,{value:"parent",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"parentName",children:"Parent/Guardian Name"}),e.jsx(c,{id:"parentName",value:l.parentName,onChange:s=>i({...l,parentName:s.target.value}),placeholder:"Enter parent/guardian name"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"parentPhone",children:"Parent Phone"}),e.jsx(c,{id:"parentPhone",value:l.parentPhone,onChange:s=>i({...l,parentPhone:s.target.value}),placeholder:"Enter parent phone number"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"parentEmail",children:"Parent Email"}),e.jsx(c,{id:"parentEmail",type:"email",value:l.parentEmail,onChange:s=>i({...l,parentEmail:s.target.value}),placeholder:"Enter parent email"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"emergencyContact",children:"Emergency Contact"}),e.jsx(c,{id:"emergencyContact",value:l.emergencyContact,onChange:s=>i({...l,emergencyContact:s.target.value}),placeholder:"Enter emergency contact"})]})]})]}),e.jsxs(L,{value:"additional",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"nationality",children:"Nationality"}),e.jsx(c,{id:"nationality",value:l.nationality,onChange:s=>i({...l,nationality:s.target.value}),placeholder:"Enter nationality"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"religion",children:"Religion"}),e.jsx(c,{id:"religion",value:l.religion,onChange:s=>i({...l,religion:s.target.value}),placeholder:"Enter religion"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"bloodGroup",children:"Blood Group"}),e.jsxs(u,{value:l.bloodGroup,onValueChange:s=>i({...l,bloodGroup:s}),children:[e.jsx(m,{children:e.jsx(p,{placeholder:"Select blood group"})}),e.jsxs(v,{children:[e.jsx(a,{value:"A+",children:"A+"}),e.jsx(a,{value:"A-",children:"A-"}),e.jsx(a,{value:"B+",children:"B+"}),e.jsx(a,{value:"B-",children:"B-"}),e.jsx(a,{value:"AB+",children:"AB+"}),e.jsx(a,{value:"AB-",children:"AB-"}),e.jsx(a,{value:"O+",children:"O+"}),e.jsx(a,{value:"O-",children:"O-"})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"priority",children:"Priority"}),e.jsxs(u,{value:l.priority,onValueChange:s=>i({...l,priority:s}),children:[e.jsx(m,{children:e.jsx(p,{placeholder:"Select priority"})}),e.jsxs(v,{children:[e.jsx(a,{value:"high",children:"High"}),e.jsx(a,{value:"medium",children:"Medium"}),e.jsx(a,{value:"low",children:"Low"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"source",children:"Application Source"}),e.jsxs(u,{value:l.source,onValueChange:s=>i({...l,source:s}),children:[e.jsx(m,{children:e.jsx(p,{placeholder:"Select source"})}),e.jsxs(v,{children:[e.jsx(a,{value:"online",children:"Online"}),e.jsx(a,{value:"walk_in",children:"Walk-in"}),e.jsx(a,{value:"referral",children:"Referral"}),e.jsx(a,{value:"agent",children:"Agent"})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"referredBy",children:"Referred By"}),e.jsx(c,{id:"referredBy",value:l.referredBy,onChange:s=>i({...l,referredBy:s.target.value}),placeholder:"Enter referrer name"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{id:"siblingInSchool",checked:l.siblingInSchool,onCheckedChange:s=>i({...l,siblingInSchool:!!s})}),e.jsx(n,{htmlFor:"siblingInSchool",children:"Has sibling in school"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{id:"scholarshipApplied",checked:l.scholarshipApplied,onCheckedChange:s=>i({...l,scholarshipApplied:!!s})}),e.jsx(n,{htmlFor:"scholarshipApplied",children:"Applied for scholarship"})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"medicalConditions",children:"Medical Conditions"}),e.jsx(U,{id:"medicalConditions",value:l.medicalConditions,onChange:s=>i({...l,medicalConditions:s.target.value}),placeholder:"Enter any medical conditions or allergies"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"remarks",children:"Remarks"}),e.jsx(U,{id:"remarks",value:l.remarks,onChange:s=>i({...l,remarks:s.target.value}),placeholder:"Enter any additional remarks"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(d,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),e.jsx(d,{onClick:ge,children:"Create Application"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(h,{children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Applications"}),e.jsx("p",{className:"text-2xl font-bold",children:P.total})]}),e.jsx(Be,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(h,{children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Review"}),e.jsx("p",{className:"text-2xl font-bold",children:P.pending})]}),e.jsx(ie,{className:"h-8 w-8 text-yellow-600"})]})})}),e.jsx(h,{children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Approved"}),e.jsx("p",{className:"text-2xl font-bold",children:P.approved})]}),e.jsx(K,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(h,{children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Conversion Rate"}),e.jsxs("p",{className:"text-2xl font-bold",children:[P.conversionRate,"%"]})]}),e.jsx(Ee,{className:"h-8 w-8 text-purple-600"})]})})})]}),e.jsx(h,{children:e.jsx(x,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(c,{placeholder:"Search applications...",value:F,onChange:s=>ue(s.target.value),className:"pl-10"})]})}),e.jsxs(u,{value:B,onValueChange:me,children:[e.jsxs(m,{className:"w-48",children:[e.jsx(Ie,{className:"mr-2 h-4 w-4"}),e.jsx(p,{placeholder:"Filter by status"})]}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Statuses"}),e.jsx(a,{value:"pending",children:"Pending"}),e.jsx(a,{value:"approved",children:"Approved"}),e.jsx(a,{value:"rejected",children:"Rejected"}),e.jsx(a,{value:"waitlisted",children:"Waitlisted"}),e.jsx(a,{value:"interview_scheduled",children:"Interview Scheduled"}),e.jsx(a,{value:"documents_pending",children:"Documents Pending"})]})]}),e.jsxs(u,{value:E,onValueChange:pe,children:[e.jsxs(m,{className:"w-48",children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),e.jsx(p,{placeholder:"Filter by class"})]}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Classes"}),e.jsx(a,{value:"nursery",children:"Nursery"}),e.jsx(a,{value:"kindergarten",children:"Kindergarten"}),e.jsx(a,{value:"1",children:"Class 1"}),e.jsx(a,{value:"2",children:"Class 2"}),e.jsx(a,{value:"3",children:"Class 3"}),e.jsx(a,{value:"4",children:"Class 4"}),e.jsx(a,{value:"5",children:"Class 5"}),e.jsx(a,{value:"6",children:"Class 6"}),e.jsx(a,{value:"7",children:"Class 7"}),e.jsx(a,{value:"8",children:"Class 8"}),e.jsx(a,{value:"9",children:"Class 9"}),e.jsx(a,{value:"10",children:"Class 10"}),e.jsx(a,{value:"11",children:"Class 11"}),e.jsx(a,{value:"12",children:"Class 12"})]})]}),e.jsxs(u,{value:T,onValueChange:ve,children:[e.jsxs(m,{className:"w-48",children:[e.jsx(Oe,{className:"mr-2 h-4 w-4"}),e.jsx(p,{placeholder:"Filter by priority"})]}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Priorities"}),e.jsx(a,{value:"high",children:"High"}),e.jsx(a,{value:"medium",children:"Medium"}),e.jsx(a,{value:"low",children:"Low"})]})]})]}),C.length>0&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-blue-50 rounded-lg",children:[e.jsxs("span",{className:"text-sm",children:[C.length," applications selected"]}),e.jsxs(d,{size:"sm",variant:"outline",onClick:()=>Z("approved"),children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Bulk Approve"]}),e.jsxs(d,{size:"sm",variant:"outline",onClick:()=>Z("rejected"),children:[e.jsx(ne,{className:"mr-2 h-4 w-4"}),"Bulk Reject"]}),e.jsx(d,{size:"sm",variant:"outline",onClick:()=>y([]),children:"Clear Selection"})]})]})})}),e.jsxs(h,{children:[e.jsx(b,{children:e.jsx(A,{children:"Admission Applications"})}),e.jsxs(x,{children:[ce?e.jsx("div",{className:"flex justify-center items-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(be,{children:[e.jsx(Ae,{children:e.jsxs(Y,{children:[e.jsx(g,{className:"w-12",children:e.jsx(_,{checked:C.length===H.length,onCheckedChange:s=>{y(s?H.map(o=>o.id):[])}})}),e.jsx(g,{children:"Application #"}),e.jsx(g,{children:"Student Name"}),e.jsx(g,{children:"Applied Class"}),e.jsx(g,{children:"Status"}),e.jsx(g,{children:"Priority"}),e.jsx(g,{children:"Source"}),e.jsx(g,{children:"Application Date"}),e.jsx(g,{children:"Actions"})]})}),e.jsx(Fe,{children:H.map(s=>e.jsxs(Y,{children:[e.jsx(N,{children:e.jsx(_,{checked:C.includes(s.id),onCheckedChange:o=>{y(o?[...C,s.id]:C.filter(D=>D!==s.id))}})}),e.jsx(N,{className:"font-mono",children:s.applicationNumber}),e.jsx(N,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[s.firstName," ",s.lastName]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.email})]})}),e.jsxs(N,{children:[s.appliedClass," - ",s.appliedSection]}),e.jsx(N,{children:e.jsx(R,{className:J(s.status),children:s.status.replace("_"," ")})}),e.jsx(N,{children:e.jsx(R,{className:Q(s.priority),children:s.priority})}),e.jsx(N,{children:s.source}),e.jsx(N,{children:new Date(s.applicationDate).toLocaleDateString()}),e.jsx(N,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{size:"sm",variant:"outline",onClick:()=>{q(s),$(!0)},children:e.jsx(Le,{className:"h-4 w-4"})}),e.jsx(d,{size:"sm",variant:"outline",onClick:()=>{q(s),je(!0)},children:e.jsx(Re,{className:"h-4 w-4"})})]})})]},s.id))})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(f-1)*k+1," to"," ",Math.min(f*k,G.length)," of"," ",G.length," applications"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(d,{variant:"outline",size:"sm",onClick:()=>X(f-1),disabled:f===1,children:"Previous"}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>X(f+1),disabled:f===Ce,children:"Next"})]})]})]})]}),e.jsx(ee,{open:xe,onOpenChange:$,children:e.jsxs(se,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(ae,{children:[e.jsx(le,{children:"Application Details"}),e.jsxs(re,{children:["Complete information for application #",r?.applicationNumber]})]}),r&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(h,{children:[e.jsx(b,{children:e.jsx(A,{className:"text-lg",children:"Personal Information"})}),e.jsxs(x,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Name:"}),e.jsxs("span",{children:[r.firstName," ",r.lastName]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Email:"}),e.jsx("span",{children:r.email})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),e.jsx("span",{children:r.phone})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Date of Birth:"}),e.jsx("span",{children:new Date(r.dateOfBirth).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Gender:"}),e.jsx("span",{children:r.gender})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Address:"}),e.jsx("span",{className:"text-right",children:r.address})]})]})]}),e.jsxs(h,{children:[e.jsx(b,{children:e.jsx(A,{className:"text-lg",children:"Parent/Guardian Information"})}),e.jsxs(x,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Name:"}),e.jsx("span",{children:r.parentName})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),e.jsx("span",{children:r.parentPhone})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Email:"}),e.jsx("span",{children:r.parentEmail})]}),r.emergencyContact&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Emergency Contact:"}),e.jsx("span",{children:r.emergencyContact})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(h,{children:[e.jsx(b,{children:e.jsx(A,{className:"text-lg",children:"Academic Information"})}),e.jsxs(x,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Applied Class:"}),e.jsx("span",{children:r.appliedClass})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Applied Section:"}),e.jsx("span",{children:r.appliedSection})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Previous School:"}),e.jsx("span",{children:r.previousSchool})]}),r.previousGrade&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Previous Grade:"}),e.jsx("span",{children:r.previousGrade})]})]})]}),e.jsxs(h,{children:[e.jsx(b,{children:e.jsx(A,{className:"text-lg",children:"Application Status"})}),e.jsxs(x,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),e.jsx(R,{className:J(r.status),children:r.status.replace("_"," ")})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-muted-foreground",children:"Priority:"}),e.jsx(R,{className:Q(r.priority),children:r.priority})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Source:"}),e.jsx("span",{children:r.source})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Application Date:"}),e.jsx("span",{children:new Date(r.applicationDate).toLocaleDateString()})]}),r.interviewDate&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Interview Date:"}),e.jsx("span",{children:new Date(r.interviewDate).toLocaleDateString()})]})]})]})]}),r.remarks&&e.jsxs(h,{children:[e.jsx(b,{children:e.jsx(A,{className:"text-lg",children:"Remarks"})}),e.jsx(x,{children:e.jsx("p",{children:r.remarks})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(d,{variant:"outline",onClick:()=>z(r.id,"approved"),disabled:r.status==="approved",children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Approve"]}),e.jsxs(d,{variant:"outline",onClick:()=>z(r.id,"rejected"),disabled:r.status==="rejected",children:[e.jsx(ne,{className:"mr-2 h-4 w-4"}),"Reject"]}),e.jsxs(d,{variant:"outline",onClick:()=>z(r.id,"waitlisted"),disabled:r.status==="waitlisted",children:[e.jsx(ie,{className:"mr-2 h-4 w-4"}),"Waitlist"]}),e.jsxs(d,{variant:"outline",onClick:()=>Ne(r.id,new Date().toISOString()),disabled:r.status==="interview_scheduled",children:[e.jsx(_e,{className:"mr-2 h-4 w-4"}),"Schedule Interview"]})]})]})]})})]})}export{rs as AdmissionManagement};
