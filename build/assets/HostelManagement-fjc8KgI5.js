import{r as x,j as e}from"./ui-vendor-CZ9oH99c.js";import{d as C,t as F,B as i,L as l,S as u,e as p,f as g,g as v,h as a,I as r,C as w,c as S,T as Ze,i as Qe,j as M,k as P,l as N,a as te,b as ne,A as Xe,n as Ye}from"./index-CbaydhWW.js";import{T as re,a as ie,b as O,c,d as de,e as o}from"./table-SvwjoT6S.js";import{D as _,a as z,b as W,c as q,d as U,e as J}from"./dialog-GASJ86Ds.js";import{T as H}from"./textarea-Drs0EPqH.js";import{P as K}from"./progress-BxpaIchm.js";import{R as $e,D as he,b as es,aq as ss,ar as xe,Z as ls,H as as,U as ts,K as G,a7 as Z,s as me,a4 as je,a0 as ns,q as rs}from"./icons-vendor-WGRqNp00.js";import"./react-vendor-Dazix4UH.js";import"./db-vendor-BlTxHScW.js";import"./charts-vendor-CAKBN1xl.js";function vs(){const[b,ue]=x.useState([]),[Q,pe]=x.useState([]),[ge,ve]=x.useState([]),[X,fe]=x.useState([]),[Ne,ye]=x.useState([]),[R,be]=x.useState({totalHostels:0,totalStudents:0,occupancyRate:0,availableRooms:0,monthlyRevenue:0,monthlyExpenses:0,feeCollectionRate:0,maintenanceRequests:0}),[is,Ce]=x.useState(!0),[Fe,Y]=x.useState(!1),[we,$]=x.useState(!1),[Se,ee]=x.useState(!1),[De,se]=x.useState(!1),[Re,le]=x.useState(!1),[V,ce]=x.useState(""),[B,oe]=x.useState(""),[L,Ie]=x.useState(""),[ae,Ee]=x.useState(""),[t,f]=x.useState({hostelName:"",hostelType:"boys",address:"",contactNumber:"",email:"",wardenId:"",totalRooms:"",totalBeds:"",facilities:"",rules:"",monthlyFee:"",securityDeposit:"",admissionFee:"",maintenanceFee:""}),[m,I]=x.useState({hostelId:"",roomNumber:"",roomType:"double",floor:"",capacity:"",monthlyFee:"",facilities:""}),[h,D]=x.useState({studentId:"",hostelId:"",roomId:"",bedNumber:"",parentName:"",parentContact:"",parentEmail:"",emergencyContact:"",medicalInfo:""}),[d,y]=x.useState({staffId:"",name:"",designation:"warden",hostelId:"",contactNumber:"",email:"",address:"",joinDate:"",salary:"",workShift:"full_day",permissions:""}),[j,E]=x.useState({hostelId:"",expenseType:"maintenance",description:"",amount:"",expenseDate:new Date().toISOString().split("T")[0],billNumber:"",vendorName:""});x.useEffect(()=>{A()},[]);const A=async()=>{try{const[s,n,T,Je,Ge,Ke]=await Promise.all([C.getHostels(),C.getHostelRooms(),C.getHostelStudents(),C.getHostelStaff(),C.getHostelExpenses(),C.getHostelStats()]);ue(s),pe(n),ve(T),fe(Je),ye(Ge),be(Ke)}catch(s){F.error("Failed to load hostel data"),console.error(s)}finally{Ce(!1)}},Ae=async()=>{try{const s={...t,totalRooms:parseInt(t.totalRooms),occupiedRooms:0,totalBeds:parseInt(t.totalBeds),occupiedBeds:0,facilities:t.facilities.split(",").map(n=>n.trim()).filter(n=>n),rules:t.rules.split(",").map(n=>n.trim()).filter(n=>n),feeStructure:{monthlyFee:parseFloat(t.monthlyFee),securityDeposit:parseFloat(t.securityDeposit),admissionFee:parseFloat(t.admissionFee),maintenanceFee:parseFloat(t.maintenanceFee)},wardenName:X.find(n=>n.id===t.wardenId)?.name||"",status:"active"};await C.createHostel(s),F.success("Hostel added successfully"),Y(!1),Oe(),A()}catch(s){F.error("Failed to add hostel"),console.error(s)}},Te=async()=>{try{const s={...m,hostelName:b.find(n=>n.id===m.hostelId)?.hostelName||"",floor:parseInt(m.floor),capacity:parseInt(m.capacity),currentOccupancy:0,monthlyFee:parseFloat(m.monthlyFee),facilities:m.facilities.split(",").map(n=>n.trim()).filter(n=>n),status:"available",students:[]};await C.createHostelRoom(s),F.success("Room added successfully"),$(!1),Ve(),A()}catch(s){F.error("Failed to add room"),console.error(s)}},He=async()=>{try{const s={...h,hostelName:b.find(n=>n.id===h.hostelId)?.hostelName||"",roomNumber:Q.find(n=>n.id===h.roomId)?.roomNumber||"",bedNumber:parseInt(h.bedNumber),allottedDate:new Date().toISOString(),feeStatus:"pending",status:"active"};await C.allotHostelRoom(s),F.success("Room allotted successfully"),ee(!1),Le(),A()}catch(s){F.error("Failed to allot room"),console.error(s)}},Be=async()=>{try{const s={...d,hostelName:b.find(n=>n.id===d.hostelId)?.hostelName||"",salary:parseFloat(d.salary),permissions:d.permissions.split(",").map(n=>n.trim()).filter(n=>n),status:"active"};await C.createHostelStaff(s),F.success("Staff member added successfully"),se(!1),Me(),A()}catch(s){F.error("Failed to add staff member"),console.error(s)}},ke=async()=>{try{const s={...j,hostelName:b.find(n=>n.id===j.hostelId)?.hostelName||"",amount:parseFloat(j.amount),approvedBy:"Current User",status:"pending"};await C.createHostelExpense(s),F.success("Expense recorded successfully"),le(!1),Pe(),A()}catch(s){F.error("Failed to record expense"),console.error(s)}},Oe=()=>{f({hostelName:"",hostelType:"boys",address:"",contactNumber:"",email:"",wardenId:"",totalRooms:"",totalBeds:"",facilities:"",rules:"",monthlyFee:"",securityDeposit:"",admissionFee:"",maintenanceFee:""})},Ve=()=>{I({hostelId:"",roomNumber:"",roomType:"double",floor:"",capacity:"",monthlyFee:"",facilities:""})},Le=()=>{D({studentId:"",hostelId:"",roomId:"",bedNumber:"",parentName:"",parentContact:"",parentEmail:"",emergencyContact:"",medicalInfo:""})},Me=()=>{y({staffId:"",name:"",designation:"warden",hostelId:"",contactNumber:"",email:"",address:"",joinDate:"",salary:"",workShift:"full_day",permissions:""})},Pe=()=>{E({hostelId:"",expenseType:"maintenance",description:"",amount:"",expenseDate:new Date().toISOString().split("T")[0],billNumber:"",vendorName:""})},k=s=>{switch(s){case"active":case"available":case"paid":case"approved":return"bg-green-100 text-green-800";case"occupied":case"pending":return"bg-yellow-100 text-yellow-800";case"inactive":case"suspended":case"maintenance":return"bg-red-100 text-red-800";case"reserved":case"overdue":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},_e=s=>{switch(s){case"boys":return"bg-blue-100 text-blue-800";case"girls":return"bg-pink-100 text-pink-800";case"mixed":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},ze=s=>{switch(s){case"single":return"bg-green-100 text-green-800";case"double":return"bg-blue-100 text-blue-800";case"triple":return"bg-orange-100 text-orange-800";case"dormitory":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},We=s=>{switch(s){case"warden":return"bg-blue-100 text-blue-800";case"assistant_warden":return"bg-green-100 text-green-800";case"security":return"bg-red-100 text-red-800";case"maintenance":return"bg-orange-100 text-orange-800";case"cook":return"bg-yellow-100 text-yellow-800";case"cleaner":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},qe=ge.filter(s=>(s.studentName.toLowerCase().includes(V.toLowerCase())||s.rollNumber.toLowerCase().includes(V.toLowerCase()))&&(B===""||s.hostelId===B)&&(L===""||s.status===L)),Ue=Q.filter(s=>s.roomNumber.toLowerCase().includes(V.toLowerCase())&&(B===""||s.hostelId===B)&&(ae===""||s.roomType===ae)&&(L===""||s.status===L));return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Hostel Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage hostel accommodations, students, and operations"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{variant:"outline",onClick:A,children:[e.jsx($e,{className:"mr-2 h-4 w-4"}),"Refresh"]}),e.jsxs(_,{open:Re,onOpenChange:le,children:[e.jsx(z,{asChild:!0,children:e.jsxs(i,{variant:"outline",children:[e.jsx(he,{className:"mr-2 h-4 w-4"}),"Add Expense"]})}),e.jsxs(W,{children:[e.jsxs(q,{children:[e.jsx(U,{children:"Record Hostel Expense"}),e.jsx(J,{children:"Record a new expense for hostel operations"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"expenseHostel",children:"Hostel"}),e.jsxs(u,{value:j.hostelId,onValueChange:s=>E({...j,hostelId:s}),children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Select hostel"})}),e.jsx(v,{children:b.map(s=>e.jsx(a,{value:s.id,children:s.hostelName},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"expenseType",children:"Expense Type"}),e.jsxs(u,{value:j.expenseType,onValueChange:s=>E({...j,expenseType:s}),children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Select type"})}),e.jsxs(v,{children:[e.jsx(a,{value:"maintenance",children:"Maintenance"}),e.jsx(a,{value:"food",children:"Food"}),e.jsx(a,{value:"utilities",children:"Utilities"}),e.jsx(a,{value:"staff_salary",children:"Staff Salary"}),e.jsx(a,{value:"supplies",children:"Supplies"}),e.jsx(a,{value:"other",children:"Other"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"expenseDescription",children:"Description"}),e.jsx(H,{id:"expenseDescription",value:j.description,onChange:s=>E({...j,description:s.target.value}),placeholder:"Enter expense description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"expenseAmount",children:"Amount"}),e.jsx(r,{id:"expenseAmount",type:"number",value:j.amount,onChange:s=>E({...j,amount:s.target.value}),placeholder:"Enter amount"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"expenseDate",children:"Expense Date"}),e.jsx(r,{id:"expenseDate",type:"date",value:j.expenseDate,onChange:s=>E({...j,expenseDate:s.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"billNumber",children:"Bill Number (Optional)"}),e.jsx(r,{id:"billNumber",value:j.billNumber,onChange:s=>E({...j,billNumber:s.target.value}),placeholder:"Enter bill number"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"vendorName",children:"Vendor Name (Optional)"}),e.jsx(r,{id:"vendorName",value:j.vendorName,onChange:s=>E({...j,vendorName:s.target.value}),placeholder:"Enter vendor name"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(i,{variant:"outline",onClick:()=>le(!1),children:"Cancel"}),e.jsx(i,{onClick:ke,children:"Record Expense"})]})]})]}),e.jsxs(_,{open:De,onOpenChange:se,children:[e.jsx(z,{asChild:!0,children:e.jsxs(i,{variant:"outline",children:[e.jsx(es,{className:"mr-2 h-4 w-4"}),"Add Staff"]})}),e.jsxs(W,{children:[e.jsxs(q,{children:[e.jsx(U,{children:"Add Hostel Staff"}),e.jsx(J,{children:"Add a new staff member to hostel management"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"staffId",children:"Staff ID"}),e.jsx(r,{id:"staffId",value:d.staffId,onChange:s=>y({...d,staffId:s.target.value}),placeholder:"Enter staff ID"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"staffName",children:"Full Name"}),e.jsx(r,{id:"staffName",value:d.name,onChange:s=>y({...d,name:s.target.value}),placeholder:"Enter full name"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"staffDesignation",children:"Designation"}),e.jsxs(u,{value:d.designation,onValueChange:s=>y({...d,designation:s}),children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Select designation"})}),e.jsxs(v,{children:[e.jsx(a,{value:"warden",children:"Warden"}),e.jsx(a,{value:"assistant_warden",children:"Assistant Warden"}),e.jsx(a,{value:"security",children:"Security"}),e.jsx(a,{value:"maintenance",children:"Maintenance"}),e.jsx(a,{value:"cook",children:"Cook"}),e.jsx(a,{value:"cleaner",children:"Cleaner"})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"staffHostel",children:"Assigned Hostel"}),e.jsxs(u,{value:d.hostelId,onValueChange:s=>y({...d,hostelId:s}),children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Select hostel"})}),e.jsx(v,{children:b.map(s=>e.jsx(a,{value:s.id,children:s.hostelName},s.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"staffContact",children:"Contact Number"}),e.jsx(r,{id:"staffContact",value:d.contactNumber,onChange:s=>y({...d,contactNumber:s.target.value}),placeholder:"Enter contact number"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"staffEmail",children:"Email"}),e.jsx(r,{id:"staffEmail",type:"email",value:d.email,onChange:s=>y({...d,email:s.target.value}),placeholder:"Enter email address"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"staffAddress",children:"Address"}),e.jsx(H,{id:"staffAddress",value:d.address,onChange:s=>y({...d,address:s.target.value}),placeholder:"Enter complete address",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"joinDate",children:"Join Date"}),e.jsx(r,{id:"joinDate",type:"date",value:d.joinDate,onChange:s=>y({...d,joinDate:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"staffSalary",children:"Salary"}),e.jsx(r,{id:"staffSalary",type:"number",value:d.salary,onChange:s=>y({...d,salary:s.target.value}),placeholder:"Enter salary"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"workShift",children:"Work Shift"}),e.jsxs(u,{value:d.workShift,onValueChange:s=>y({...d,workShift:s}),children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Select shift"})}),e.jsxs(v,{children:[e.jsx(a,{value:"morning",children:"Morning"}),e.jsx(a,{value:"evening",children:"Evening"}),e.jsx(a,{value:"night",children:"Night"}),e.jsx(a,{value:"full_day",children:"Full Day"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"permissions",children:"Permissions (comma-separated)"}),e.jsx(r,{id:"permissions",value:d.permissions,onChange:s=>y({...d,permissions:s.target.value}),placeholder:"e.g., room_access, student_records, maintenance"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(i,{variant:"outline",onClick:()=>se(!1),children:"Cancel"}),e.jsx(i,{onClick:Be,children:"Add Staff"})]})]})]}),e.jsxs(_,{open:Se,onOpenChange:ee,children:[e.jsx(z,{asChild:!0,children:e.jsxs(i,{variant:"outline",children:[e.jsx(ss,{className:"mr-2 h-4 w-4"}),"Allot Room"]})}),e.jsxs(W,{children:[e.jsxs(q,{children:[e.jsx(U,{children:"Allot Hostel Room"}),e.jsx(J,{children:"Assign a room to a student"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"allotStudent",children:"Student"}),e.jsxs(u,{value:h.studentId,onValueChange:s=>D({...h,studentId:s}),children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Select student"})}),e.jsxs(v,{children:[e.jsx(a,{value:"student1",children:"John Doe - Class 10A - Roll 101"}),e.jsx(a,{value:"student2",children:"Jane Smith - Class 9B - Roll 205"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"allotHostel",children:"Hostel"}),e.jsxs(u,{value:h.hostelId,onValueChange:s=>D({...h,hostelId:s}),children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Select hostel"})}),e.jsx(v,{children:b.map(s=>e.jsx(a,{value:s.id,children:s.hostelName},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"allotRoom",children:"Room"}),e.jsxs(u,{value:h.roomId,onValueChange:s=>D({...h,roomId:s}),children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Select room"})}),e.jsx(v,{children:Q.filter(s=>s.hostelId===h.hostelId&&s.status==="available").map(s=>e.jsxs(a,{value:s.id,children:["Room ",s.roomNumber," (",s.capacity-s.currentOccupancy," beds available)"]},s.id))})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"bedNumber",children:"Bed Number"}),e.jsx(r,{id:"bedNumber",type:"number",value:h.bedNumber,onChange:s=>D({...h,bedNumber:s.target.value}),placeholder:"Enter bed number"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"parentName",children:"Parent Name"}),e.jsx(r,{id:"parentName",value:h.parentName,onChange:s=>D({...h,parentName:s.target.value}),placeholder:"Enter parent name"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"parentContact",children:"Parent Contact"}),e.jsx(r,{id:"parentContact",value:h.parentContact,onChange:s=>D({...h,parentContact:s.target.value}),placeholder:"Enter parent contact"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"parentEmail",children:"Parent Email"}),e.jsx(r,{id:"parentEmail",type:"email",value:h.parentEmail,onChange:s=>D({...h,parentEmail:s.target.value}),placeholder:"Enter parent email"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"emergencyContact",children:"Emergency Contact"}),e.jsx(r,{id:"emergencyContact",value:h.emergencyContact,onChange:s=>D({...h,emergencyContact:s.target.value}),placeholder:"Enter emergency contact"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"medicalInfo",children:"Medical Information (Optional)"}),e.jsx(H,{id:"medicalInfo",value:h.medicalInfo,onChange:s=>D({...h,medicalInfo:s.target.value}),placeholder:"Enter any medical conditions or requirements",rows:3})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(i,{variant:"outline",onClick:()=>ee(!1),children:"Cancel"}),e.jsx(i,{onClick:He,children:"Allot Room"})]})]})]}),e.jsxs(_,{open:we,onOpenChange:$,children:[e.jsx(z,{asChild:!0,children:e.jsxs(i,{variant:"outline",children:[e.jsx(xe,{className:"mr-2 h-4 w-4"}),"Add Room"]})}),e.jsxs(W,{children:[e.jsxs(q,{children:[e.jsx(U,{children:"Add New Room"}),e.jsx(J,{children:"Add a new room to the selected hostel"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"roomHostel",children:"Hostel"}),e.jsxs(u,{value:m.hostelId,onValueChange:s=>I({...m,hostelId:s}),children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Select hostel"})}),e.jsx(v,{children:b.map(s=>e.jsx(a,{value:s.id,children:s.hostelName},s.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"roomNumber",children:"Room Number"}),e.jsx(r,{id:"roomNumber",value:m.roomNumber,onChange:s=>I({...m,roomNumber:s.target.value}),placeholder:"Enter room number"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"roomFloor",children:"Floor"}),e.jsx(r,{id:"roomFloor",type:"number",value:m.floor,onChange:s=>I({...m,floor:s.target.value}),placeholder:"Enter floor number"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"roomType",children:"Room Type"}),e.jsxs(u,{value:m.roomType,onValueChange:s=>I({...m,roomType:s}),children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Select type"})}),e.jsxs(v,{children:[e.jsx(a,{value:"single",children:"Single"}),e.jsx(a,{value:"double",children:"Double"}),e.jsx(a,{value:"triple",children:"Triple"}),e.jsx(a,{value:"dormitory",children:"Dormitory"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"roomCapacity",children:"Capacity"}),e.jsx(r,{id:"roomCapacity",type:"number",value:m.capacity,onChange:s=>I({...m,capacity:s.target.value}),placeholder:"Enter bed capacity"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"roomFee",children:"Monthly Fee"}),e.jsx(r,{id:"roomFee",type:"number",value:m.monthlyFee,onChange:s=>I({...m,monthlyFee:s.target.value}),placeholder:"Enter monthly fee"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"roomFacilities",children:"Facilities (comma-separated)"}),e.jsx(H,{id:"roomFacilities",value:m.facilities,onChange:s=>I({...m,facilities:s.target.value}),placeholder:"e.g., AC, Attached Bathroom, Study Table, Wardrobe",rows:3})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(i,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),e.jsx(i,{onClick:Te,children:"Add Room"})]})]})]}),e.jsxs(_,{open:Fe,onOpenChange:Y,children:[e.jsx(z,{asChild:!0,children:e.jsxs(i,{children:[e.jsx(ls,{className:"mr-2 h-4 w-4"}),"Add Hostel"]})}),e.jsxs(W,{className:"max-w-2xl",children:[e.jsxs(q,{children:[e.jsx(U,{children:"Add New Hostel"}),e.jsx(J,{children:"Add a new hostel to the management system"})]}),e.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"hostelName",children:"Hostel Name"}),e.jsx(r,{id:"hostelName",value:t.hostelName,onChange:s=>f({...t,hostelName:s.target.value}),placeholder:"Enter hostel name"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"hostelType",children:"Hostel Type"}),e.jsxs(u,{value:t.hostelType,onValueChange:s=>f({...t,hostelType:s}),children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Select type"})}),e.jsxs(v,{children:[e.jsx(a,{value:"boys",children:"Boys"}),e.jsx(a,{value:"girls",children:"Girls"}),e.jsx(a,{value:"mixed",children:"Mixed"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"hostelAddress",children:"Address"}),e.jsx(H,{id:"hostelAddress",value:t.address,onChange:s=>f({...t,address:s.target.value}),placeholder:"Enter complete address",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"hostelContact",children:"Contact Number"}),e.jsx(r,{id:"hostelContact",value:t.contactNumber,onChange:s=>f({...t,contactNumber:s.target.value}),placeholder:"Enter contact number"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"hostelEmail",children:"Email"}),e.jsx(r,{id:"hostelEmail",type:"email",value:t.email,onChange:s=>f({...t,email:s.target.value}),placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"warden",children:"Warden"}),e.jsxs(u,{value:t.wardenId,onValueChange:s=>f({...t,wardenId:s}),children:[e.jsx(p,{children:e.jsx(g,{placeholder:"Select warden"})}),e.jsx(v,{children:X.filter(s=>s.designation==="warden").map(s=>e.jsx(a,{value:s.id,children:s.name},s.id))})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"totalRooms",children:"Total Rooms"}),e.jsx(r,{id:"totalRooms",type:"number",value:t.totalRooms,onChange:s=>f({...t,totalRooms:s.target.value}),placeholder:"Enter total rooms"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"totalBeds",children:"Total Beds"}),e.jsx(r,{id:"totalBeds",type:"number",value:t.totalBeds,onChange:s=>f({...t,totalBeds:s.target.value}),placeholder:"Enter total beds"})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"hostelFacilities",children:"Facilities (comma-separated)"}),e.jsx(H,{id:"hostelFacilities",value:t.facilities,onChange:s=>f({...t,facilities:s.target.value}),placeholder:"e.g., WiFi, Mess, Library, Gym, Laundry",rows:3})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"hostelRules",children:"Rules & Regulations (comma-separated)"}),e.jsx(H,{id:"hostelRules",value:t.rules,onChange:s=>f({...t,rules:s.target.value}),placeholder:"e.g., No smoking, Lights out by 10 PM, Visitors allowed till 6 PM",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"monthlyFee",children:"Monthly Fee"}),e.jsx(r,{id:"monthlyFee",type:"number",value:t.monthlyFee,onChange:s=>f({...t,monthlyFee:s.target.value}),placeholder:"Enter monthly fee"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"securityDeposit",children:"Security Deposit"}),e.jsx(r,{id:"securityDeposit",type:"number",value:t.securityDeposit,onChange:s=>f({...t,securityDeposit:s.target.value}),placeholder:"Enter security deposit"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"admissionFee",children:"Admission Fee"}),e.jsx(r,{id:"admissionFee",type:"number",value:t.admissionFee,onChange:s=>f({...t,admissionFee:s.target.value}),placeholder:"Enter admission fee"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"maintenanceFee",children:"Maintenance Fee"}),e.jsx(r,{id:"maintenanceFee",type:"number",value:t.maintenanceFee,onChange:s=>f({...t,maintenanceFee:s.target.value}),placeholder:"Enter maintenance fee"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(i,{variant:"outline",onClick:()=>Y(!1),children:"Cancel"}),e.jsx(i,{onClick:Ae,children:"Add Hostel"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Hostels"}),e.jsx("p",{className:"text-2xl font-bold",children:R.totalHostels}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Active facilities"})]}),e.jsx(as,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(w,{children:e.jsxs(S,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Students"}),e.jsx("p",{className:"text-2xl font-bold",children:R.totalStudents}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[R.occupancyRate,"% occupancy"]})]}),e.jsx(ts,{className:"h-8 w-8 text-green-600"})]}),e.jsx(K,{value:R.occupancyRate,className:"mt-2"})]})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Monthly Revenue"}),e.jsxs("p",{className:"text-2xl font-bold",children:["₹",R.monthlyRevenue.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["₹",R.monthlyExpenses.toLocaleString()," expenses"]})]}),e.jsx(he,{className:"h-8 w-8 text-purple-600"})]})})}),e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Available Rooms"}),e.jsx("p",{className:"text-2xl font-bold",children:R.availableRooms}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[R.feeCollectionRate,"% fee collection"]})]}),e.jsx(xe,{className:"h-8 w-8 text-orange-600"})]})})})]}),e.jsxs(Ze,{defaultValue:"hostels",className:"w-full",children:[e.jsxs(Qe,{children:[e.jsx(M,{value:"hostels",children:"Hostels"}),e.jsx(M,{value:"rooms",children:"Rooms"}),e.jsx(M,{value:"students",children:"Students"}),e.jsx(M,{value:"staff",children:"Staff"}),e.jsx(M,{value:"expenses",children:"Expenses"})]}),e.jsx(P,{value:"hostels",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(s=>e.jsx(w,{className:"hover:shadow-md transition-shadow",children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.hostelName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.address})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{className:_e(s.hostelType),children:s.hostelType}),e.jsx(N,{className:k(s.status),children:s.status})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Warden:"}),e.jsx("p",{children:s.wardenName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Contact:"}),e.jsx("p",{children:s.contactNumber})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Rooms:"}),e.jsxs("p",{children:[s.occupiedRooms,"/",s.totalRooms]}),e.jsx(K,{value:s.occupiedRooms/s.totalRooms*100,className:"w-full h-2 mt-1"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Beds:"}),e.jsxs("p",{children:[s.occupiedBeds,"/",s.totalBeds]}),e.jsx(K,{value:s.occupiedBeds/s.totalBeds*100,className:"w-full h-2 mt-1"})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-sm",children:"Monthly Fee:"}),e.jsxs("p",{className:"text-lg font-bold text-green-600",children:["₹",s.feeStructure.monthlyFee.toLocaleString()]})]}),s.facilities.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-sm",children:"Facilities:"}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[s.facilities.slice(0,3).map((n,T)=>e.jsx(N,{variant:"outline",className:"text-xs",children:n},T)),s.facilities.length>3&&e.jsxs(N,{variant:"outline",className:"text-xs",children:["+",s.facilities.length-3," more"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"View"]}),e.jsxs(i,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),"Edit"]})]})]})})},s.id))})}),e.jsxs(P,{value:"rooms",className:"space-y-4",children:[e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(r,{placeholder:"Search rooms...",value:V,onChange:s=>ce(s.target.value),className:"pl-10"})]})}),e.jsxs(u,{value:B,onValueChange:oe,children:[e.jsxs(p,{className:"w-48",children:[e.jsx(je,{className:"mr-2 h-4 w-4"}),e.jsx(g,{placeholder:"Filter by hostel"})]}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Hostels"}),b.map(s=>e.jsx(a,{value:s.id,children:s.hostelName},s.id))]})]}),e.jsxs(u,{value:ae,onValueChange:Ee,children:[e.jsx(p,{className:"w-48",children:e.jsx(g,{placeholder:"Filter by type"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Types"}),e.jsx(a,{value:"single",children:"Single"}),e.jsx(a,{value:"double",children:"Double"}),e.jsx(a,{value:"triple",children:"Triple"}),e.jsx(a,{value:"dormitory",children:"Dormitory"})]})]}),e.jsxs(i,{variant:"outline",children:[e.jsx(ns,{className:"mr-2 h-4 w-4"}),"Export"]})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ue.map(s=>e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold",children:["Room ",s.roomNumber]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.hostelName," - Floor ",s.floor]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(N,{className:ze(s.roomType),children:s.roomType}),e.jsx(N,{className:k(s.status),children:s.status})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Occupancy:"}),e.jsxs("span",{className:"font-medium",children:[s.currentOccupancy,"/",s.capacity]})]}),e.jsx(K,{value:s.currentOccupancy/s.capacity*100,className:"w-full"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Monthly Fee:"}),e.jsxs("span",{className:"font-bold text-green-600",children:["₹",s.monthlyFee.toLocaleString()]})]})]}),s.facilities.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-sm",children:"Facilities:"}),e.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[s.facilities.slice(0,3).map((n,T)=>e.jsx(N,{variant:"outline",className:"text-xs",children:n},T)),s.facilities.length>3&&e.jsxs(N,{variant:"outline",className:"text-xs",children:["+",s.facilities.length-3," more"]})]})]}),s.students.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-sm",children:"Students:"}),e.jsx("div",{className:"space-y-1 mt-1",children:s.students.map((n,T)=>e.jsxs("div",{className:"text-xs bg-gray-50 p-2 rounded",children:[n.studentName," (Bed ",n.bedNumber,")"]},T))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(G,{className:"mr-2 h-4 w-4"}),"View"]}),e.jsxs(i,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),"Edit"]})]})]})})},s.id))})]}),e.jsxs(P,{value:"students",className:"space-y-4",children:[e.jsx(w,{children:e.jsx(S,{className:"p-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(r,{placeholder:"Search students...",value:V,onChange:s=>ce(s.target.value),className:"pl-10"})]})}),e.jsxs(u,{value:B,onValueChange:oe,children:[e.jsxs(p,{className:"w-48",children:[e.jsx(je,{className:"mr-2 h-4 w-4"}),e.jsx(g,{placeholder:"Filter by hostel"})]}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Hostels"}),b.map(s=>e.jsx(a,{value:s.id,children:s.hostelName},s.id))]})]}),e.jsxs(u,{value:L,onValueChange:Ie,children:[e.jsx(p,{className:"w-48",children:e.jsx(g,{placeholder:"Filter by status"})}),e.jsxs(v,{children:[e.jsx(a,{value:"all",children:"All Status"}),e.jsx(a,{value:"active",children:"Active"}),e.jsx(a,{value:"inactive",children:"Inactive"}),e.jsx(a,{value:"suspended",children:"Suspended"})]})]})]})})}),e.jsxs(w,{children:[e.jsx(te,{children:e.jsx(ne,{children:"Hostel Students"})}),e.jsx(S,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(re,{children:[e.jsx(ie,{children:e.jsxs(O,{children:[e.jsx(c,{children:"Student"}),e.jsx(c,{children:"Class"}),e.jsx(c,{children:"Hostel"}),e.jsx(c,{children:"Room"}),e.jsx(c,{children:"Fee Status"}),e.jsx(c,{children:"Parent Contact"}),e.jsx(c,{children:"Status"}),e.jsx(c,{children:"Actions"})]})}),e.jsx(de,{children:qe.slice(0,15).map(s=>e.jsxs(O,{children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Xe,{className:"h-8 w-8",children:e.jsx(Ye,{children:s.studentName.split(" ").map(n=>n[0]).join("")})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.studentName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Roll: ",s.rollNumber]})]})]})}),e.jsx(o,{children:s.studentClass}),e.jsx(o,{children:s.hostelName}),e.jsx(o,{children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{children:["Room ",s.roomNumber]}),e.jsxs("div",{className:"text-muted-foreground",children:["Bed ",s.bedNumber]})]})}),e.jsx(o,{children:e.jsx(N,{className:k(s.feeStatus),children:s.feeStatus})}),e.jsx(o,{children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{children:s.parentName}),e.jsx("div",{className:"text-muted-foreground",children:s.parentContact})]})}),e.jsx(o,{children:e.jsx(N,{className:k(s.status),children:s.status})}),e.jsx(o,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{size:"sm",variant:"outline",children:e.jsx(G,{className:"h-4 w-4"})}),e.jsx(i,{size:"sm",variant:"outline",children:e.jsx(Z,{className:"h-4 w-4"})})]})})]},s.id))})]})})})]})]}),e.jsx(P,{value:"staff",className:"space-y-4",children:e.jsxs(w,{children:[e.jsx(te,{children:e.jsx(ne,{children:"Hostel Staff"})}),e.jsx(S,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(re,{children:[e.jsx(ie,{children:e.jsxs(O,{children:[e.jsx(c,{children:"Staff"}),e.jsx(c,{children:"Designation"}),e.jsx(c,{children:"Hostel"}),e.jsx(c,{children:"Contact"}),e.jsx(c,{children:"Shift"}),e.jsx(c,{children:"Salary"}),e.jsx(c,{children:"Status"}),e.jsx(c,{children:"Actions"})]})}),e.jsx(de,{children:X.slice(0,15).map(s=>e.jsxs(O,{children:[e.jsx(o,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",s.staffId]})]})}),e.jsx(o,{children:e.jsx(N,{className:We(s.designation),children:s.designation.replace("_"," ")})}),e.jsx(o,{children:s.hostelName||"All Hostels"}),e.jsx(o,{children:e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{children:s.contactNumber}),e.jsx("div",{className:"text-muted-foreground",children:s.email})]})}),e.jsx(o,{children:s.workShift.replace("_"," ")}),e.jsxs(o,{className:"font-bold",children:["₹",s.salary.toLocaleString()]}),e.jsx(o,{children:e.jsx(N,{className:k(s.status),children:s.status})}),e.jsx(o,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{size:"sm",variant:"outline",children:e.jsx(G,{className:"h-4 w-4"})}),e.jsx(i,{size:"sm",variant:"outline",children:e.jsx(Z,{className:"h-4 w-4"})})]})})]},s.id))})]})})})]})}),e.jsx(P,{value:"expenses",className:"space-y-4",children:e.jsxs(w,{children:[e.jsx(te,{children:e.jsx(ne,{children:"Hostel Expenses"})}),e.jsx(S,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(re,{children:[e.jsx(ie,{children:e.jsxs(O,{children:[e.jsx(c,{children:"Date"}),e.jsx(c,{children:"Hostel"}),e.jsx(c,{children:"Type"}),e.jsx(c,{children:"Description"}),e.jsx(c,{children:"Amount"}),e.jsx(c,{children:"Vendor"}),e.jsx(c,{children:"Status"}),e.jsx(c,{children:"Actions"})]})}),e.jsx(de,{children:Ne.slice(0,15).map(s=>e.jsxs(O,{children:[e.jsx(o,{children:new Date(s.expenseDate).toLocaleDateString()}),e.jsx(o,{children:s.hostelName}),e.jsx(o,{children:e.jsx(N,{variant:"outline",children:s.expenseType.replace("_"," ")})}),e.jsx(o,{className:"max-w-48 truncate",children:s.description}),e.jsxs(o,{className:"font-bold",children:["₹",s.amount.toLocaleString()]}),e.jsx(o,{children:s.vendorName||"-"}),e.jsx(o,{children:e.jsx(N,{className:k(s.status),children:s.status})}),e.jsx(o,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{size:"sm",variant:"outline",children:e.jsx(G,{className:"h-4 w-4"})}),s.status==="pending"&&e.jsx(i,{size:"sm",variant:"outline",children:e.jsx(rs,{className:"h-4 w-4"})})]})})]},s.id))})]})})})]})})]})]})}export{vs as HostelManagement};
