import{r as d,j as e}from"./ui-vendor-CZ9oH99c.js";import{d as C,t as y,B as c,L as i,I as n,S as m,e as p,f as j,g as u,h as t,o as W,C as g,c as v,T as we,i as Fe,j as D,k as R,a as z,b as V,l as N}from"./index-CbaydhWW.js";import{T as Se,a as De,b as X,c as b,d as Re,e as T}from"./table-SvwjoT6S.js";import{D as G,a as L,b as O,c as M,d as U,e as H}from"./dialog-GASJ86Ds.js";import{T as Q}from"./textarea-Drs0EPqH.js";import{P as Ae}from"./progress-BxpaIchm.js";import{R as Y,U as ke,A as ee,ax as _,Z as Ie,ay as Ee,d as Be,q as se,s as Pe,a4 as ze,a0 as q,K as $,az as Ve,a7 as Ge,al as Le,a3 as Oe}from"./icons-vendor-WGRqNp00.js";import"./react-vendor-Dazix4UH.js";import"./db-vendor-BlTxHScW.js";import"./charts-vendor-CAKBN1xl.js";function Ye(){const[w,ae]=d.useState([]),[te,ie]=d.useState([]),[le,re]=d.useState([]),[F,ne]=d.useState({totalCertificates:0,issuedThisMonth:0,pendingApproval:0,templatesActive:0,batchesCompleted:0,mostUsedTemplate:"",recentIssues:0,digitalVerifications:0}),[Me,ce]=d.useState(!0),[de,A]=d.useState(!1),[oe,k]=d.useState(!1),[he,I]=d.useState(!1),[E,xe]=d.useState(""),[B,me]=d.useState(""),[P,pe]=d.useState(""),[K,Ue]=d.useState(""),[l,x]=d.useState({name:"",type:"academic",category:"",description:"",layout:"portrait",backgroundColor:"#ffffff",borderStyle:"solid",borderColor:"#000000",titleFont:"Arial",contentFont:"Arial",titleSize:24,contentSize:14,logoPosition:"top-center"}),[a,o]=d.useState({templateId:"",recipientType:"student",recipientName:"",recipientId:"",class:"",rollNumber:"",department:"",designation:"",email:"",phone:"",title:"",content:"",achievementDate:"",grades:"",remarks:""}),[r,f]=d.useState({batchName:"",templateId:"",recipientType:"student",classes:"",departments:"",minGrade:"",dateFrom:"",dateTo:""});d.useEffect(()=>{S()},[]);const S=async()=>{try{const[s,h,be,Te]=await Promise.all([C.getCertificateTemplates(),C.getCertificates(),C.getCertificateBatches(),C.getCertificateStats()]);ae(s),ie(h),re(be),ne(Te)}catch(s){y.error("Failed to load certificate data"),console.error(s)}finally{ce(!1)}},je=async()=>{try{const s={...l,templateData:{layout:l.layout,backgroundColor:l.backgroundColor,borderStyle:l.borderStyle,borderColor:l.borderColor,titleFont:l.titleFont,contentFont:l.contentFont,titleSize:l.titleSize,contentSize:l.contentSize,logoPosition:l.logoPosition,signaturePositions:[],customFields:[]},isActive:!0,usageCount:0};await C.createCertificateTemplate(s),y.success("Certificate template created successfully"),A(!1),ve(),S()}catch(s){y.error("Failed to create template"),console.error(s)}},ue=async()=>{try{const s={...a,certificateNumber:`CERT${Date.now()}`,recipientDetails:{class:a.class,rollNumber:a.rollNumber,department:a.department,designation:a.designation,email:a.email,phone:a.phone},certificateData:{title:a.title,content:a.content,achievementDate:a.achievementDate,issueDate:new Date().toISOString(),grades:a.grades,remarks:a.remarks,customFields:{}},issuedBy:"Current User",issuedByDesignation:"Administrator",status:"issued"};await C.issueCertificate(s),y.success("Certificate issued successfully"),k(!1),fe(),S()}catch(s){y.error("Failed to issue certificate"),console.error(s)}},ge=async()=>{try{const s={...r,filterCriteria:{classes:r.classes.split(",").map(h=>h.trim()).filter(h=>h),departments:r.departments.split(",").map(h=>h.trim()).filter(h=>h),minGrade:r.minGrade?parseFloat(r.minGrade):void 0,dateRange:r.dateFrom&&r.dateTo?{from:r.dateFrom,to:r.dateTo}:void 0},totalRecipients:0,generatedCount:0,status:"pending",createdBy:"Current User"};await C.createCertificateBatch(s),y.success("Batch generation started successfully"),I(!1),Ne(),S()}catch(s){y.error("Failed to start batch generation"),console.error(s)}},ve=()=>{x({name:"",type:"academic",category:"",description:"",layout:"portrait",backgroundColor:"#ffffff",borderStyle:"solid",borderColor:"#000000",titleFont:"Arial",contentFont:"Arial",titleSize:24,contentSize:14,logoPosition:"top-center"})},fe=()=>{o({templateId:"",recipientType:"student",recipientName:"",recipientId:"",class:"",rollNumber:"",department:"",designation:"",email:"",phone:"",title:"",content:"",achievementDate:"",grades:"",remarks:""})},Ne=()=>{f({batchName:"",templateId:"",recipientType:"student",classes:"",departments:"",minGrade:"",dateFrom:"",dateTo:""})},Z=s=>{switch(s){case"issued":case"approved":case"completed":return"bg-green-100 text-green-800";case"pending_approval":case"pending":case"processing":return"bg-yellow-100 text-yellow-800";case"draft":return"bg-blue-100 text-blue-800";case"revoked":case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},J=s=>{switch(s){case"academic":return"bg-blue-100 text-blue-800";case"participation":return"bg-green-100 text-green-800";case"achievement":return"bg-orange-100 text-orange-800";case"completion":return"bg-purple-100 text-purple-800";case"merit":return"bg-yellow-100 text-yellow-800";case"appreciation":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}},Ce=s=>{switch(s){case"student":return"bg-blue-100 text-blue-800";case"staff":return"bg-green-100 text-green-800";case"external":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},ye=te.filter(s=>(s.recipientName.toLowerCase().includes(E.toLowerCase())||s.certificateNumber.toLowerCase().includes(E.toLowerCase()))&&(B===""||w.find(h=>h.id===s.templateId)?.type===B)&&(P===""||s.status===P)&&(K===""||s.templateId===K));return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Certificate Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Create, manage, and issue digital certificates"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{variant:"outline",onClick:S,children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Refresh"]}),e.jsxs(G,{open:he,onOpenChange:I,children:[e.jsx(L,{asChild:!0,children:e.jsxs(c,{variant:"outline",children:[e.jsx(ke,{className:"mr-2 h-4 w-4"}),"Batch Generate"]})}),e.jsxs(O,{children:[e.jsxs(M,{children:[e.jsx(U,{children:"Batch Certificate Generation"}),e.jsx(H,{children:"Generate certificates for multiple recipients at once"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"batchName",children:"Batch Name"}),e.jsx(n,{id:"batchName",value:r.batchName,onChange:s=>f({...r,batchName:s.target.value}),placeholder:"Enter batch name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"batchTemplate",children:"Template"}),e.jsxs(m,{value:r.templateId,onValueChange:s=>f({...r,templateId:s}),children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Select template"})}),e.jsx(u,{children:w.filter(s=>s.isActive).map(s=>e.jsx(t,{value:s.id,children:s.name},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"batchRecipientType",children:"Recipient Type"}),e.jsxs(m,{value:r.recipientType,onValueChange:s=>f({...r,recipientType:s}),children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Select type"})}),e.jsxs(u,{children:[e.jsx(t,{value:"student",children:"Students"}),e.jsx(t,{value:"staff",children:"Staff"})]})]})]})]}),r.recipientType==="student"&&e.jsxs("div",{children:[e.jsx(i,{htmlFor:"classes",children:"Classes (comma-separated)"}),e.jsx(n,{id:"classes",value:r.classes,onChange:s=>f({...r,classes:s.target.value}),placeholder:"e.g., 10A, 10B, 11A"})]}),r.recipientType==="staff"&&e.jsxs("div",{children:[e.jsx(i,{htmlFor:"departments",children:"Departments (comma-separated)"}),e.jsx(n,{id:"departments",value:r.departments,onChange:s=>f({...r,departments:s.target.value}),placeholder:"e.g., Mathematics, Science, English"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"minGrade",children:"Minimum Grade (optional)"}),e.jsx(n,{id:"minGrade",type:"number",value:r.minGrade,onChange:s=>f({...r,minGrade:s.target.value}),placeholder:"Enter minimum grade requirement"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"dateFrom",children:"Date From"}),e.jsx(n,{id:"dateFrom",type:"date",value:r.dateFrom,onChange:s=>f({...r,dateFrom:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"dateTo",children:"Date To"}),e.jsx(n,{id:"dateTo",type:"date",value:r.dateTo,onChange:s=>f({...r,dateTo:s.target.value})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(c,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),e.jsx(c,{onClick:ge,children:"Start Batch Generation"})]})]})]}),e.jsxs(G,{open:oe,onOpenChange:k,children:[e.jsx(L,{asChild:!0,children:e.jsxs(c,{variant:"outline",children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Issue Certificate"]})}),e.jsxs(O,{className:"max-w-2xl",children:[e.jsxs(M,{children:[e.jsx(U,{children:"Issue New Certificate"}),e.jsx(H,{children:"Create and issue a certificate to a recipient"})]}),e.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"certTemplate",children:"Certificate Template"}),e.jsxs(m,{value:a.templateId,onValueChange:s=>o({...a,templateId:s}),children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Select template"})}),e.jsx(u,{children:w.filter(s=>s.isActive).map(s=>e.jsxs(t,{value:s.id,children:[s.name," (",s.type,")"]},s.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"certRecipientType",children:"Recipient Type"}),e.jsxs(m,{value:a.recipientType,onValueChange:s=>o({...a,recipientType:s}),children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Select type"})}),e.jsxs(u,{children:[e.jsx(t,{value:"student",children:"Student"}),e.jsx(t,{value:"staff",children:"Staff"}),e.jsx(t,{value:"external",children:"External"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"recipientName",children:"Recipient Name"}),e.jsx(n,{id:"recipientName",value:a.recipientName,onChange:s=>o({...a,recipientName:s.target.value}),placeholder:"Enter recipient name"})]})]}),a.recipientType==="student"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"certClass",children:"Class"}),e.jsx(n,{id:"certClass",value:a.class,onChange:s=>o({...a,class:s.target.value}),placeholder:"Enter class"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"certRollNumber",children:"Roll Number"}),e.jsx(n,{id:"certRollNumber",value:a.rollNumber,onChange:s=>o({...a,rollNumber:s.target.value}),placeholder:"Enter roll number"})]})]}),a.recipientType==="staff"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"certDepartment",children:"Department"}),e.jsx(n,{id:"certDepartment",value:a.department,onChange:s=>o({...a,department:s.target.value}),placeholder:"Enter department"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"certDesignation",children:"Designation"}),e.jsx(n,{id:"certDesignation",value:a.designation,onChange:s=>o({...a,designation:s.target.value}),placeholder:"Enter designation"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"certEmail",children:"Email"}),e.jsx(n,{id:"certEmail",type:"email",value:a.email,onChange:s=>o({...a,email:s.target.value}),placeholder:"Enter email address"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"certPhone",children:"Phone"}),e.jsx(n,{id:"certPhone",value:a.phone,onChange:s=>o({...a,phone:s.target.value}),placeholder:"Enter phone number"})]})]}),e.jsx(W,{}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"certTitle",children:"Certificate Title"}),e.jsx(n,{id:"certTitle",value:a.title,onChange:s=>o({...a,title:s.target.value}),placeholder:"Enter certificate title"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"certContent",children:"Certificate Content"}),e.jsx(Q,{id:"certContent",value:a.content,onChange:s=>o({...a,content:s.target.value}),placeholder:"Enter the main certificate content...",rows:4})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"achievementDate",children:"Achievement Date"}),e.jsx(n,{id:"achievementDate",type:"date",value:a.achievementDate,onChange:s=>o({...a,achievementDate:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"certGrades",children:"Grades/Score (optional)"}),e.jsx(n,{id:"certGrades",value:a.grades,onChange:s=>o({...a,grades:s.target.value}),placeholder:"Enter grades or score"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"certRemarks",children:"Remarks (optional)"}),e.jsx(Q,{id:"certRemarks",value:a.remarks,onChange:s=>o({...a,remarks:s.target.value}),placeholder:"Enter any additional remarks...",rows:2})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(c,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),e.jsxs(c,{onClick:ue,children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Issue Certificate"]})]})]})]}),e.jsxs(G,{open:de,onOpenChange:A,children:[e.jsx(L,{asChild:!0,children:e.jsxs(c,{variant:"outline",children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),"Create Template"]})}),e.jsxs(O,{children:[e.jsxs(M,{children:[e.jsx(U,{children:"Create Certificate Template"}),e.jsx(H,{children:"Design a new certificate template"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"templateName",children:"Template Name"}),e.jsx(n,{id:"templateName",value:l.name,onChange:s=>x({...l,name:s.target.value}),placeholder:"Enter template name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"templateType",children:"Certificate Type"}),e.jsxs(m,{value:l.type,onValueChange:s=>x({...l,type:s}),children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Select type"})}),e.jsxs(u,{children:[e.jsx(t,{value:"academic",children:"Academic"}),e.jsx(t,{value:"participation",children:"Participation"}),e.jsx(t,{value:"achievement",children:"Achievement"}),e.jsx(t,{value:"completion",children:"Completion"}),e.jsx(t,{value:"merit",children:"Merit"}),e.jsx(t,{value:"appreciation",children:"Appreciation"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"templateCategory",children:"Category"}),e.jsx(n,{id:"templateCategory",value:l.category,onChange:s=>x({...l,category:s.target.value}),placeholder:"Enter category"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"templateDescription",children:"Description"}),e.jsx(Q,{id:"templateDescription",value:l.description,onChange:s=>x({...l,description:s.target.value}),placeholder:"Enter template description",rows:3})]}),e.jsx(W,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"layout",children:"Layout Orientation"}),e.jsxs(m,{value:l.layout,onValueChange:s=>x({...l,layout:s}),children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Select layout"})}),e.jsxs(u,{children:[e.jsx(t,{value:"portrait",children:"Portrait"}),e.jsx(t,{value:"landscape",children:"Landscape"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"logoPosition",children:"Logo Position"}),e.jsxs(m,{value:l.logoPosition,onValueChange:s=>x({...l,logoPosition:s}),children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Select position"})}),e.jsxs(u,{children:[e.jsx(t,{value:"top-left",children:"Top Left"}),e.jsx(t,{value:"top-center",children:"Top Center"}),e.jsx(t,{value:"top-right",children:"Top Right"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"titleFont",children:"Title Font"}),e.jsxs(m,{value:l.titleFont,onValueChange:s=>x({...l,titleFont:s}),children:[e.jsx(p,{children:e.jsx(j,{placeholder:"Select font"})}),e.jsxs(u,{children:[e.jsx(t,{value:"Arial",children:"Arial"}),e.jsx(t,{value:"Times New Roman",children:"Times New Roman"}),e.jsx(t,{value:"Helvetica",children:"Helvetica"}),e.jsx(t,{value:"Georgia",children:"Georgia"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"titleSize",children:"Title Size"}),e.jsx(n,{id:"titleSize",type:"number",value:l.titleSize,onChange:s=>x({...l,titleSize:parseInt(s.target.value)}),min:"12",max:"48"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"backgroundColor",children:"Background Color"}),e.jsx(n,{id:"backgroundColor",type:"color",value:l.backgroundColor,onChange:s=>x({...l,backgroundColor:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"borderColor",children:"Border Color"}),e.jsx(n,{id:"borderColor",type:"color",value:l.borderColor,onChange:s=>x({...l,borderColor:s.target.value})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(c,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),e.jsxs(c,{onClick:je,children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),"Create Template"]})]})]})]}),e.jsxs(c,{children:[e.jsx(Ie,{className:"mr-2 h-4 w-4"}),"Quick Issue"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(g,{children:e.jsx(v,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Certificates"}),e.jsx("p",{className:"text-2xl font-bold",children:F.totalCertificates}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.issuedThisMonth," this month"]})]}),e.jsx(Ee,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(g,{children:e.jsx(v,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending Approval"}),e.jsx("p",{className:"text-2xl font-bold",children:F.pendingApproval}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]}),e.jsx(Be,{className:"h-8 w-8 text-yellow-600"})]})})}),e.jsx(g,{children:e.jsx(v,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Templates"}),e.jsx("p",{className:"text-2xl font-bold",children:F.templatesActive}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready to use"})]}),e.jsx(_,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(g,{children:e.jsx(v,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Digital Verifications"}),e.jsx("p",{className:"text-2xl font-bold",children:F.digitalVerifications}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"QR code scans"})]}),e.jsx(se,{className:"h-8 w-8 text-purple-600"})]})})})]}),e.jsxs(we,{defaultValue:"certificates",className:"w-full",children:[e.jsxs(Fe,{children:[e.jsx(D,{value:"certificates",children:"Certificates"}),e.jsx(D,{value:"templates",children:"Templates"}),e.jsx(D,{value:"batches",children:"Batch Processing"}),e.jsx(D,{value:"verification",children:"Verification"})]}),e.jsxs(R,{value:"certificates",className:"space-y-4",children:[e.jsx(g,{children:e.jsx(v,{className:"p-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(Pe,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(n,{placeholder:"Search certificates...",value:E,onChange:s=>xe(s.target.value),className:"pl-10"})]})}),e.jsxs(m,{value:P,onValueChange:pe,children:[e.jsxs(p,{className:"w-48",children:[e.jsx(ze,{className:"mr-2 h-4 w-4"}),e.jsx(j,{placeholder:"Filter by status"})]}),e.jsxs(u,{children:[e.jsx(t,{value:"all",children:"All Status"}),e.jsx(t,{value:"draft",children:"Draft"}),e.jsx(t,{value:"pending_approval",children:"Pending Approval"}),e.jsx(t,{value:"approved",children:"Approved"}),e.jsx(t,{value:"issued",children:"Issued"}),e.jsx(t,{value:"revoked",children:"Revoked"})]})]}),e.jsxs(m,{value:B,onValueChange:me,children:[e.jsx(p,{className:"w-48",children:e.jsx(j,{placeholder:"Filter by type"})}),e.jsxs(u,{children:[e.jsx(t,{value:"all",children:"All Types"}),e.jsx(t,{value:"academic",children:"Academic"}),e.jsx(t,{value:"participation",children:"Participation"}),e.jsx(t,{value:"achievement",children:"Achievement"}),e.jsx(t,{value:"completion",children:"Completion"}),e.jsx(t,{value:"merit",children:"Merit"}),e.jsx(t,{value:"appreciation",children:"Appreciation"})]})]}),e.jsxs(c,{variant:"outline",children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"Export"]})]})})}),e.jsxs(g,{children:[e.jsx(z,{children:e.jsx(V,{children:"Issued Certificates"})}),e.jsx(v,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Se,{children:[e.jsx(De,{children:e.jsxs(X,{children:[e.jsx(b,{children:"Certificate #"}),e.jsx(b,{children:"Recipient"}),e.jsx(b,{children:"Template"}),e.jsx(b,{children:"Type"}),e.jsx(b,{children:"Issue Date"}),e.jsx(b,{children:"Status"}),e.jsx(b,{children:"Actions"})]})}),e.jsx(Re,{children:ye.slice(0,15).map(s=>e.jsxs(X,{children:[e.jsx(T,{className:"font-mono",children:s.certificateNumber}),e.jsx(T,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.recipientName}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsx(N,{className:Ce(s.recipientType),variant:"outline",children:s.recipientType}),s.recipientType==="student"&&s.recipientDetails.class&&e.jsxs("span",{className:"ml-2",children:["Class ",s.recipientDetails.class]})]})]})}),e.jsx(T,{children:s.templateName}),e.jsx(T,{children:e.jsx(N,{className:J(w.find(h=>h.id===s.templateId)?.type||""),children:w.find(h=>h.id===s.templateId)?.type})}),e.jsx(T,{children:new Date(s.certificateData.issueDate).toLocaleDateString()}),e.jsx(T,{children:e.jsx(N,{className:Z(s.status),children:s.status.replace("_"," ")})}),e.jsx(T,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{size:"sm",variant:"outline",children:e.jsx($,{className:"h-4 w-4"})}),e.jsx(c,{size:"sm",variant:"outline",children:e.jsx(q,{className:"h-4 w-4"})}),e.jsx(c,{size:"sm",variant:"outline",children:e.jsx(Ve,{className:"h-4 w-4"})})]})})]},s.id))})]})})})]})]}),e.jsx(R,{value:"templates",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(s=>e.jsx(g,{className:`hover:shadow-md transition-shadow ${s.isActive?"":"opacity-60"}`,children:e.jsx(v,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.category})]}),e.jsx(N,{className:J(s.type),children:s.type})]}),e.jsx("p",{className:"text-sm",children:s.description}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Layout:"}),e.jsx("span",{className:"font-medium",children:s.templateData.layout})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Usage Count:"}),e.jsx("span",{className:"font-medium",children:s.usageCount})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Status:"}),e.jsx(N,{className:s.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800",children:s.isActive?"Active":"Inactive"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[e.jsxs("div",{children:["Font: ",s.templateData.titleFont]}),e.jsxs("div",{children:["Size: ",s.templateData.titleSize,"px"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"Preview"]}),e.jsxs(c,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsx(c,{size:"sm",variant:"outline",children:e.jsx(Le,{className:"h-4 w-4"})})]})]})})},s.id))})}),e.jsx(R,{value:"batches",className:"space-y-4",children:e.jsx("div",{className:"space-y-4",children:le.map(s=>e.jsx(g,{children:e.jsx(v,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.batchName}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Template: ",s.templateName," | Type: ",s.recipientType]})]}),e.jsx(N,{className:Z(s.status),children:s.status})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Total Recipients:"}),e.jsx("p",{children:s.totalRecipients})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Generated:"}),e.jsx("p",{children:s.generatedCount})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Created By:"}),e.jsx("p",{children:s.createdBy})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Created:"}),e.jsx("p",{children:new Date(s.created_at).toLocaleDateString()})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Progress:"}),e.jsxs("span",{children:[s.totalRecipients>0?Math.round(s.generatedCount/s.totalRecipients*100):0,"%"]})]}),e.jsx(Ae,{value:s.totalRecipients>0?s.generatedCount/s.totalRecipients*100:0,className:"w-full"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(c,{size:"sm",variant:"outline",children:[e.jsx($,{className:"mr-2 h-4 w-4"}),"View Details"]}),e.jsxs(c,{size:"sm",variant:"outline",children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"Download All"]}),s.status==="failed"&&e.jsxs(c,{size:"sm",variant:"outline",children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Retry"]})]})]})})},s.id))})}),e.jsx(R,{value:"verification",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(g,{children:[e.jsx(z,{children:e.jsx(V,{children:"Certificate Verification"})}),e.jsx(v,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"verificationCode",children:"Certificate Number or QR Code"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{id:"verificationCode",placeholder:"Enter certificate number"}),e.jsxs(c,{children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),"Verify"]})]})]}),e.jsxs("div",{className:"p-4 border-2 border-dashed border-gray-300 rounded-lg text-center",children:[e.jsx(Oe,{className:"h-8 w-8 mx-auto mb-2 text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Or upload QR code image to verify"})]})]})})]}),e.jsxs(g,{children:[e.jsx(z,{children:e.jsx(V,{children:"Verification Statistics"})}),e.jsx(v,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:F.digitalVerifications}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Verifications"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:"98.5%"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Success Rate"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Recent Verifications"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{children:"CERT1234567890"}),e.jsx(N,{className:"bg-green-100 text-green-800",children:"Valid"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{children:"CERT0987654321"}),e.jsx(N,{className:"bg-green-100 text-green-800",children:"Valid"})]}),e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{children:"CERT1122334455"}),e.jsx(N,{className:"bg-red-100 text-red-800",children:"Invalid"})]})]})]})]})})]})]})})]})]})}export{Ye as CertificateManagement};
