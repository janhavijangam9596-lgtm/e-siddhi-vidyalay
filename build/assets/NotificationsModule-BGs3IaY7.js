import{r as l,j as e}from"./ui-vendor-CZ9oH99c.js";import{B as i,C as o,c as x,a as se,b as ae,I as te,S as A,e as T,f as k,g as D,h as r,T as re,i as le,j as y,k as ie,l as ne,t as g}from"./index-CbaydhWW.js";import{C as R}from"./checkbox-DjQKjGtE.js";import{S as ce}from"./scroll-area-IQCqlnRE.js";import{R as de,m as oe,n as N,a9 as xe,a2 as q,O as L,N as P,E as me,a6 as he,s as ue,d as je,a5 as ge,aS as fe,ab as pe,q as we,M as ye,c as Ne,D as ve,G as Se}from"./icons-vendor-WGRqNp00.js";import"./react-vendor-Dazix4UH.js";import"./db-vendor-BlTxHScW.js";import"./charts-vendor-CAKBN1xl.js";function qe(){const[c,m]=l.useState([{id:"1",title:"New Student Admission",message:"John Doe has submitted admission application for Class 10-A. Please review the application.",type:"info",category:"academic",timestamp:new Date(Date.now()-72e5).toISOString(),read:!1,starred:!1,actionRequired:!0,actionUrl:"/admissions",actionLabel:"Review Application",sender:"Admissions System",priority:"high"},{id:"2",title:"Fee Payment Received",message:"Payment of ₹25,000 received from Jane Smith (Student ID: STU002) for Term 2 fees.",type:"success",category:"fee",timestamp:new Date(Date.now()-144e5).toISOString(),read:!1,starred:!0,actionRequired:!1,sender:"Finance Department",priority:"medium"},{id:"3",title:"System Maintenance Scheduled",message:"The system will undergo scheduled maintenance tonight from 11 PM to 2 AM. Please save your work.",type:"warning",category:"system",timestamp:new Date(Date.now()-864e5).toISOString(),read:!0,starred:!1,actionRequired:!1,sender:"System Administrator",priority:"high"},{id:"4",title:"Parent-Teacher Meeting",message:"PTM scheduled for Saturday, 10 AM - 1 PM. All class teachers must be present.",type:"info",category:"event",timestamp:new Date(Date.now()-1728e5).toISOString(),read:!0,starred:!0,actionRequired:!0,actionUrl:"/events",actionLabel:"View Details",sender:"Principal Office",priority:"medium"},{id:"5",title:"Low Attendance Alert",message:"Student Mike Johnson (Class 9-B) has attendance below 75%. Immediate action required.",type:"error",category:"alert",timestamp:new Date(Date.now()-2592e5).toISOString(),read:!1,starred:!1,actionRequired:!0,actionUrl:"/students",actionLabel:"View Student",sender:"Attendance System",priority:"urgent"},{id:"6",title:"New Announcement",message:"Sports Day will be held on Friday. All students must participate in at least one event.",type:"info",category:"announcement",timestamp:new Date(Date.now()-3456e5).toISOString(),read:!0,starred:!1,actionRequired:!1,sender:"Sports Department",priority:"low"}]),[M,U]=l.useState([]),[h,I]=l.useState(""),[f,O]=l.useState("all"),[p,$]=l.useState("all"),[w,F]=l.useState("all"),[d,v]=l.useState([]),[u,z]=l.useState("all"),[S,V]=l.useState(!1),[b,B]=l.useState(!1);l.useEffect(()=>{E()},[c,h,f,p,w,u,S,b]);const E=()=>{let s=[...c];u==="unread"?s=s.filter(a=>!a.read):u==="starred"?s=s.filter(a=>a.starred):u==="action"&&(s=s.filter(a=>a.actionRequired)),h&&(s=s.filter(a=>a.title.toLowerCase().includes(h.toLowerCase())||a.message.toLowerCase().includes(h.toLowerCase())||a.sender?.toLowerCase().includes(h.toLowerCase()))),f!=="all"&&(s=s.filter(a=>a.category===f)),p!=="all"&&(s=s.filter(a=>a.type===p)),w!=="all"&&(s=s.filter(a=>a.priority===w)),S&&(s=s.filter(a=>!a.read)),b&&(s=s.filter(a=>a.starred)),s.sort((a,t)=>new Date(t.timestamp).getTime()-new Date(a.timestamp).getTime()),U(s)},J=s=>{m(a=>a.map(t=>s.includes(t.id)?{...t,read:!0}:t)),g.success(`Marked ${s.length} notification(s) as read`)},G=s=>{m(a=>a.map(t=>s.includes(t.id)?{...t,read:!1}:t)),g.success(`Marked ${s.length} notification(s) as unread`)},H=s=>{m(a=>a.map(t=>t.id===s?{...t,starred:!t.starred}:t))},W=s=>{m(a=>a.filter(t=>!s.includes(t.id))),v([]),g.success(`Deleted ${s.length} notification(s)`)},X=()=>{m(s=>s.map(a=>({...a,read:!0}))),g.success("All notifications marked as read")},K=()=>{confirm("Are you sure you want to clear all notifications? This action cannot be undone.")&&(m([]),g.success("All notifications cleared"))},Q=s=>{switch(s){case"success":return e.jsx(we,{className:"h-4 w-4 text-green-500"});case"warning":return e.jsx(P,{className:"h-4 w-4 text-yellow-500"});case"error":return e.jsx(pe,{className:"h-4 w-4 text-red-500"});case"info":return e.jsx(fe,{className:"h-4 w-4 text-blue-500"});default:return e.jsx(N,{className:"h-4 w-4 text-gray-500"})}},Y=s=>{switch(s){case"academic":return e.jsx(Se,{className:"h-4 w-4"});case"fee":return e.jsx(ve,{className:"h-4 w-4"});case"event":return e.jsx(Ne,{className:"h-4 w-4"});case"announcement":return e.jsx(ye,{className:"h-4 w-4"});case"alert":return e.jsx(L,{className:"h-4 w-4"});default:return e.jsx(N,{className:"h-4 w-4"})}},Z=s=>{switch(s){case"urgent":return"bg-red-100 text-red-800 border-red-200";case"high":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},_=s=>{const a=new Date(s),ee=new Date().getTime()-a.getTime(),j=Math.floor(ee/(1e3*60*60)),C=Math.floor(j/24);return j<1?"Just now":j<24?`${j} hour${j>1?"s":""} ago`:C<7?`${C} day${C>1?"s":""} ago`:a.toLocaleDateString()},n={total:c.length,unread:c.filter(s=>!s.read).length,starred:c.filter(s=>s.starred).length,actionRequired:c.filter(s=>s.actionRequired).length,urgent:c.filter(s=>s.priority==="urgent").length};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Notifications"}),e.jsx("p",{className:"text-gray-600",children:"Manage all your notifications in one place"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{variant:"outline",onClick:()=>window.location.reload(),children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"Refresh"]}),e.jsxs(i,{variant:"outline",children:[e.jsx(oe,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsx(o,{children:e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),e.jsx("p",{className:"text-2xl font-bold",children:n.total})]}),e.jsx(N,{className:"h-8 w-8 text-gray-400"})]})})}),e.jsx(o,{children:e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Unread"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.unread})]}),e.jsx(xe,{className:"h-8 w-8 text-blue-400"})]})})}),e.jsx(o,{children:e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Starred"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.starred})]}),e.jsx(q,{className:"h-8 w-8 text-yellow-400"})]})})}),e.jsx(o,{children:e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Action Required"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.actionRequired})]}),e.jsx(L,{className:"h-8 w-8 text-orange-400"})]})})}),e.jsx(o,{children:e.jsx(x,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Urgent"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.urgent})]}),e.jsx(P,{className:"h-8 w-8 text-red-400"})]})})})]}),e.jsxs(o,{children:[e.jsx(se,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ae,{children:"Filter Notifications"}),e.jsxs("div",{className:"flex gap-2",children:[d.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>J(d),children:[e.jsx(me,{className:"h-4 w-4 mr-1"}),"Mark as Read"]}),e.jsx(i,{variant:"outline",size:"sm",onClick:()=>G(d),children:"Mark as Unread"}),e.jsxs(i,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",onClick:()=>W(d),children:[e.jsx(he,{className:"h-4 w-4 mr-1"}),"Delete"]})]}),e.jsx(i,{variant:"outline",size:"sm",onClick:X,children:"Mark All as Read"}),e.jsx(i,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",onClick:K,children:"Clear All"})]})]})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(te,{placeholder:"Search notifications...",value:h,onChange:s=>I(s.target.value),className:"pl-10"})]}),e.jsxs(A,{value:f,onValueChange:O,children:[e.jsx(T,{className:"w-[150px]",children:e.jsx(k,{placeholder:"Category"})}),e.jsxs(D,{children:[e.jsx(r,{value:"all",children:"All Categories"}),e.jsx(r,{value:"academic",children:"Academic"}),e.jsx(r,{value:"fee",children:"Fee"}),e.jsx(r,{value:"event",children:"Event"}),e.jsx(r,{value:"announcement",children:"Announcement"}),e.jsx(r,{value:"alert",children:"Alert"}),e.jsx(r,{value:"system",children:"System"})]})]}),e.jsxs(A,{value:p,onValueChange:$,children:[e.jsx(T,{className:"w-[150px]",children:e.jsx(k,{placeholder:"Type"})}),e.jsxs(D,{children:[e.jsx(r,{value:"all",children:"All Types"}),e.jsx(r,{value:"info",children:"Info"}),e.jsx(r,{value:"success",children:"Success"}),e.jsx(r,{value:"warning",children:"Warning"}),e.jsx(r,{value:"error",children:"Error"}),e.jsx(r,{value:"system",children:"System"})]})]}),e.jsxs(A,{value:w,onValueChange:F,children:[e.jsx(T,{className:"w-[150px]",children:e.jsx(k,{placeholder:"Priority"})}),e.jsxs(D,{children:[e.jsx(r,{value:"all",children:"All Priorities"}),e.jsx(r,{value:"urgent",children:"Urgent"}),e.jsx(r,{value:"high",children:"High"}),e.jsx(r,{value:"medium",children:"Medium"}),e.jsx(r,{value:"low",children:"Low"})]})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(R,{checked:S,onCheckedChange:s=>V(!!s)}),e.jsx("span",{className:"text-sm",children:"Show only unread"})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx(R,{checked:b,onCheckedChange:s=>B(!!s)}),e.jsx("span",{className:"text-sm",children:"Show only starred"})]})]})]})})]}),e.jsx(o,{children:e.jsx(x,{className:"p-0",children:e.jsxs(re,{value:u,onValueChange:z,children:[e.jsx("div",{className:"px-6 pt-6",children:e.jsxs(le,{children:[e.jsx(y,{value:"all",children:"All"}),e.jsxs(y,{value:"unread",children:["Unread (",n.unread,")"]}),e.jsxs(y,{value:"starred",children:["Starred (",n.starred,")"]}),e.jsxs(y,{value:"action",children:["Action Required (",n.actionRequired,")"]})]})}),e.jsx(ie,{value:u,className:"p-6 pt-4",children:e.jsx(ce,{className:"h-[600px]",children:e.jsx("div",{className:"space-y-3",children:M.length>0?M.map(s=>e.jsx("div",{className:`p-4 rounded-lg border transition-all ${s.read?"bg-gray-50 hover:bg-gray-100":"bg-blue-50 border-blue-200 hover:bg-blue-100"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(R,{checked:d.includes(s.id),onCheckedChange:a=>{v(a?[...d,s.id]:d.filter(t=>t!==s.id))}}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[Q(s.type),e.jsx("h3",{className:"font-medium",children:s.title}),!s.read&&e.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full"})]}),e.jsx(i,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>H(s.id),children:e.jsx(q,{className:`h-4 w-4 ${s.starred?"fill-yellow-400 text-yellow-400":"text-gray-400"}`})})]}),e.jsx("p",{className:"text-sm text-gray-600",children:s.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[Y(s.category),e.jsx("span",{children:s.sender}),e.jsx("span",{children:"•"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(je,{className:"h-3 w-3"}),_(s.timestamp)]}),e.jsx(ne,{variant:"outline",className:`text-xs ${Z(s.priority)}`,children:s.priority})]}),s.actionRequired&&s.actionUrl&&e.jsxs(i,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>window.location.href=s.actionUrl,children:[s.actionLabel||"Take Action",e.jsx(ge,{className:"h-3 w-3 ml-1"})]})]})]})]})},s.id)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(N,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No notifications found"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your filters"})]})})})})]})})})]})}export{qe as NotificationsModule};
