import{r as o,j as e}from"./ui-vendor-CZ9oH99c.js";import{d as D,t as T,B as n,L as t,I as c,S as N,e as f,f as y,g as b,h as a,C as m,c as p,T as Ie,i as Be,j as I,k as B,a as L,b as P,l as E}from"./index-CbaydhWW.js";import{T as ee,a as se,b as M,c as x,d as ae,e as h}from"./table-SvwjoT6S.js";import{D as R,a as V,b as z,c as q,d as U,e as H}from"./dialog-GASJ86Ds.js";import{T as te}from"./textarea-Drs0EPqH.js";import{P as X}from"./progress-BxpaIchm.js";import{R as Ee,ac as ke,aA as Oe,j as Le,Z as Pe,V as Me,Y as Re,D as Ve,aB as ze,s as qe,a4 as Ue,a0 as ne,K as _,a7 as Z}from"./icons-vendor-WGRqNp00.js";import"./react-vendor-Dazix4UH.js";import"./db-vendor-BlTxHScW.js";import"./charts-vendor-CAKBN1xl.js";function Je(){const[le,ce]=o.useState([]),[k,re]=o.useState([]),[ie,de]=o.useState([]),[oe,xe]=o.useState([]),[i,he]=o.useState({totalIncome:0,totalExpenses:0,netProfit:0,profitMargin:0,totalAccounts:0,cashFlow:0,outstandingInvoices:0,budgetUtilization:0}),[ue,$]=o.useState(!1),[je,G]=o.useState(!1),[me,Q]=o.useState(!1),[pe,J]=o.useState(!1),[Y,ge]=o.useState(""),[K,ve]=o.useState(""),[W,Ne]=o.useState(""),fe="",[l,g]=o.useState({type:"income",category:"",amount:"",description:"",account:"",paymentMethod:"cash",date:new Date().toISOString().split("T")[0],reference:"",tags:""}),[r,C]=o.useState({accountName:"",accountType:"bank",accountNumber:"",bankName:"",openingBalance:"",currency:"INR",description:""}),[u,S]=o.useState({name:"",category:"",allocatedAmount:"",period:"monthly",startDate:new Date().toISOString().split("T")[0],endDate:""}),[d,w]=o.useState({clientName:"",date:new Date().toISOString().split("T")[0],dueDate:"",items:[{description:"",quantity:1,rate:0}],tax:18});o.useEffect(()=>{F()},[]);const F=async()=>{try{const[s,j,A,v,Fe]=await Promise.all([D.getTransactions(),D.getAccounts(),D.getBudgets(),D.getInvoices(),D.getFinancialStats()]);ce(s),re(j),de(A),xe(v),he(Fe)}catch(s){T.error("Failed to load financial data"),console.error(s)}finally{}},ye=async()=>{try{const s={...l,amount:parseFloat(l.amount),transactionNumber:`TXN${Date.now()}`,status:"completed",createdBy:"current_user",tags:l.tags.split(",").map(j=>j.trim()).filter(j=>j),attachments:[]};await D.createTransaction(s),T.success("Transaction added successfully"),$(!1),we(),F()}catch(s){T.error("Failed to add transaction"),console.error(s)}},be=async()=>{try{const s={...r,openingBalance:parseFloat(r.openingBalance),balance:parseFloat(r.openingBalance),status:"active"};await D.createAccount(s),T.success("Account created successfully"),G(!1),De(),F()}catch(s){T.error("Failed to create account"),console.error(s)}},Ce=async()=>{try{const s={...u,allocatedAmount:parseFloat(u.allocatedAmount),spentAmount:0,remainingAmount:parseFloat(u.allocatedAmount),status:"active"};await D.createBudget(s),T.success("Budget created successfully"),Q(!1),Se(),F()}catch(s){T.error("Failed to create budget"),console.error(s)}},we=()=>{g({type:"income",category:"",amount:"",description:"",account:"",paymentMethod:"cash",date:new Date().toISOString().split("T")[0],reference:"",tags:""})},De=()=>{C({accountName:"",accountType:"bank",accountNumber:"",bankName:"",openingBalance:"",currency:"INR",description:""})},Se=()=>{S({name:"",category:"",allocatedAmount:"",period:"monthly",startDate:new Date().toISOString().split("T")[0],endDate:""})},O=s=>{switch(s){case"completed":case"paid":case"active":return"bg-green-100 text-green-800";case"pending":case"sent":return"bg-yellow-100 text-yellow-800";case"cancelled":case"overdue":return"bg-red-100 text-red-800";case"draft":return"bg-gray-100 text-gray-800";case"exceeded":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Ae=s=>s==="income"?"bg-green-100 text-green-800":"bg-red-100 text-red-800",Te=(le||[]).filter(s=>s?((s.description||"").toLowerCase().includes(Y.toLowerCase())||(s.transactionNumber||"").toLowerCase().includes(Y.toLowerCase()))&&(K===""||s.type===K)&&(W===""||s.account===W)&&fe==="":!1);return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Accounts & Finance Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage financial transactions, accounts, and budgets"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{variant:"outline",onClick:F,children:[e.jsx(Ee,{className:"mr-2 h-4 w-4"}),"Refresh"]}),e.jsxs(R,{open:pe,onOpenChange:J,children:[e.jsx(V,{asChild:!0,children:e.jsxs(n,{variant:"outline",children:[e.jsx(ke,{className:"mr-2 h-4 w-4"}),"Create Invoice"]})}),e.jsxs(z,{className:"max-w-2xl",children:[e.jsxs(q,{children:[e.jsx(U,{children:"Create Invoice"}),e.jsx(H,{children:"Generate a new invoice for services or fees"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"clientName",children:"Client Name"}),e.jsx(c,{id:"clientName",value:d.clientName,onChange:s=>w({...d,clientName:s.target.value}),placeholder:"Enter client name"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"invoiceDate",children:"Invoice Date"}),e.jsx(c,{id:"invoiceDate",type:"date",value:d.date,onChange:s=>w({...d,date:s.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"dueDate",children:"Due Date"}),e.jsx(c,{id:"dueDate",type:"date",value:d.dueDate,onChange:s=>w({...d,dueDate:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(t,{children:"Invoice Items"}),d.items.map((s,j)=>e.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[e.jsx(c,{placeholder:"Description",value:s.description,onChange:A=>{const v=[...d.items];v[j].description=A.target.value,w({...d,items:v})}}),e.jsx(c,{type:"number",placeholder:"Qty",value:s.quantity,onChange:A=>{const v=[...d.items];v[j].quantity=parseInt(A.target.value),w({...d,items:v})}}),e.jsx(c,{type:"number",placeholder:"Rate",value:s.rate,onChange:A=>{const v=[...d.items];v[j].rate=parseFloat(A.target.value),w({...d,items:v})}}),e.jsx(c,{type:"number",placeholder:"Amount",value:s.quantity*s.rate,disabled:!0})]},j)),e.jsx(n,{type:"button",variant:"outline",size:"sm",className:"mt-2",onClick:()=>w({...d,items:[...d.items,{description:"",quantity:1,rate:0}]}),children:"Add Item"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"tax",children:"Tax (%)"}),e.jsx(c,{id:"tax",type:"number",value:d.tax,onChange:s=>w({...d,tax:parseFloat(s.target.value)})})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(n,{variant:"outline",onClick:()=>J(!1),children:"Cancel"}),e.jsx(n,{children:"Create Invoice"})]})]})]}),e.jsxs(R,{open:me,onOpenChange:Q,children:[e.jsx(V,{asChild:!0,children:e.jsxs(n,{variant:"outline",children:[e.jsx(Oe,{className:"mr-2 h-4 w-4"}),"Add Budget"]})}),e.jsxs(z,{children:[e.jsxs(q,{children:[e.jsx(U,{children:"Create Budget"}),e.jsx(H,{children:"Set up a new budget for expense tracking"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"budgetName",children:"Budget Name"}),e.jsx(c,{id:"budgetName",value:u.name,onChange:s=>S({...u,name:s.target.value}),placeholder:"Enter budget name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"budgetCategory",children:"Category"}),e.jsxs(N,{value:u.category,onValueChange:s=>S({...u,category:s}),children:[e.jsx(f,{children:e.jsx(y,{placeholder:"Select category"})}),e.jsxs(b,{children:[e.jsx(a,{value:"infrastructure",children:"Infrastructure"}),e.jsx(a,{value:"equipment",children:"Equipment"}),e.jsx(a,{value:"salaries",children:"Salaries"}),e.jsx(a,{value:"utilities",children:"Utilities"}),e.jsx(a,{value:"maintenance",children:"Maintenance"}),e.jsx(a,{value:"supplies",children:"Supplies"}),e.jsx(a,{value:"events",children:"Events"}),e.jsx(a,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"budgetPeriod",children:"Period"}),e.jsxs(N,{value:u.period,onValueChange:s=>S({...u,period:s}),children:[e.jsx(f,{children:e.jsx(y,{placeholder:"Select period"})}),e.jsxs(b,{children:[e.jsx(a,{value:"monthly",children:"Monthly"}),e.jsx(a,{value:"quarterly",children:"Quarterly"}),e.jsx(a,{value:"yearly",children:"Yearly"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"allocatedAmount",children:"Allocated Amount"}),e.jsx(c,{id:"allocatedAmount",type:"number",value:u.allocatedAmount,onChange:s=>S({...u,allocatedAmount:s.target.value}),placeholder:"Enter allocated amount"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"budgetStartDate",children:"Start Date"}),e.jsx(c,{id:"budgetStartDate",type:"date",value:u.startDate,onChange:s=>S({...u,startDate:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"budgetEndDate",children:"End Date"}),e.jsx(c,{id:"budgetEndDate",type:"date",value:u.endDate,onChange:s=>S({...u,endDate:s.target.value})})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(n,{variant:"outline",onClick:()=>Q(!1),children:"Cancel"}),e.jsx(n,{onClick:Ce,children:"Create Budget"})]})]})]}),e.jsxs(R,{open:je,onOpenChange:G,children:[e.jsx(V,{asChild:!0,children:e.jsxs(n,{variant:"outline",children:[e.jsx(Le,{className:"mr-2 h-4 w-4"}),"Add Account"]})}),e.jsxs(z,{children:[e.jsxs(q,{children:[e.jsx(U,{children:"Add New Account"}),e.jsx(H,{children:"Create a new financial account"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"accountName",children:"Account Name"}),e.jsx(c,{id:"accountName",value:r.accountName,onChange:s=>C({...r,accountName:s.target.value}),placeholder:"Enter account name"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"accountType",children:"Account Type"}),e.jsxs(N,{value:r.accountType,onValueChange:s=>C({...r,accountType:s}),children:[e.jsx(f,{children:e.jsx(y,{placeholder:"Select account type"})}),e.jsxs(b,{children:[e.jsx(a,{value:"cash",children:"Cash"}),e.jsx(a,{value:"bank",children:"Bank Account"}),e.jsx(a,{value:"petty_cash",children:"Petty Cash"}),e.jsx(a,{value:"investment",children:"Investment"})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"currency",children:"Currency"}),e.jsxs(N,{value:r.currency,onValueChange:s=>C({...r,currency:s}),children:[e.jsx(f,{children:e.jsx(y,{placeholder:"Select currency"})}),e.jsxs(b,{children:[e.jsx(a,{value:"INR",children:"INR"}),e.jsx(a,{value:"USD",children:"USD"}),e.jsx(a,{value:"EUR",children:"EUR"})]})]})]})]}),r.accountType==="bank"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"bankName",children:"Bank Name"}),e.jsx(c,{id:"bankName",value:r.bankName,onChange:s=>C({...r,bankName:s.target.value}),placeholder:"Enter bank name"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"accountNumber",children:"Account Number"}),e.jsx(c,{id:"accountNumber",value:r.accountNumber,onChange:s=>C({...r,accountNumber:s.target.value}),placeholder:"Enter account number"})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"openingBalance",children:"Opening Balance"}),e.jsx(c,{id:"openingBalance",type:"number",value:r.openingBalance,onChange:s=>C({...r,openingBalance:s.target.value}),placeholder:"Enter opening balance"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"accountDescription",children:"Description"}),e.jsx(te,{id:"accountDescription",value:r.description,onChange:s=>C({...r,description:s.target.value}),placeholder:"Enter account description"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(n,{variant:"outline",onClick:()=>G(!1),children:"Cancel"}),e.jsx(n,{onClick:be,children:"Create Account"})]})]})]}),e.jsxs(R,{open:ue,onOpenChange:$,children:[e.jsx(V,{asChild:!0,children:e.jsxs(n,{children:[e.jsx(Pe,{className:"mr-2 h-4 w-4"}),"Add Transaction"]})}),e.jsxs(z,{children:[e.jsxs(q,{children:[e.jsx(U,{children:"Add New Transaction"}),e.jsx(H,{children:"Record a new financial transaction"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"transactionType",children:"Type"}),e.jsxs(N,{value:l.type,onValueChange:s=>g({...l,type:s}),children:[e.jsx(f,{children:e.jsx(y,{placeholder:"Select type"})}),e.jsxs(b,{children:[e.jsx(a,{value:"income",children:"Income"}),e.jsx(a,{value:"expense",children:"Expense"})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"category",children:"Category"}),e.jsxs(N,{value:l.category,onValueChange:s=>g({...l,category:s}),children:[e.jsx(f,{children:e.jsx(y,{placeholder:"Select category"})}),e.jsx(b,{children:l.type==="income"?e.jsxs(e.Fragment,{children:[e.jsx(a,{value:"fees",children:"Student Fees"}),e.jsx(a,{value:"donations",children:"Donations"}),e.jsx(a,{value:"grants",children:"Grants"}),e.jsx(a,{value:"other_income",children:"Other Income"})]}):e.jsxs(e.Fragment,{children:[e.jsx(a,{value:"salaries",children:"Salaries"}),e.jsx(a,{value:"utilities",children:"Utilities"}),e.jsx(a,{value:"maintenance",children:"Maintenance"}),e.jsx(a,{value:"supplies",children:"Supplies"}),e.jsx(a,{value:"equipment",children:"Equipment"}),e.jsx(a,{value:"other_expense",children:"Other Expense"})]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"amount",children:"Amount"}),e.jsx(c,{id:"amount",type:"number",value:l.amount,onChange:s=>g({...l,amount:s.target.value}),placeholder:"Enter amount"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"date",children:"Date"}),e.jsx(c,{id:"date",type:"date",value:l.date,onChange:s=>g({...l,date:s.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"description",children:"Description"}),e.jsx(te,{id:"description",value:l.description,onChange:s=>g({...l,description:s.target.value}),placeholder:"Enter transaction description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"account",children:"Account"}),e.jsxs(N,{value:l.account,onValueChange:s=>g({...l,account:s}),children:[e.jsx(f,{children:e.jsx(y,{placeholder:"Select account"})}),e.jsx(b,{children:k.map(s=>e.jsx(a,{value:s.id,children:s.accountName},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"paymentMethod",children:"Payment Method"}),e.jsxs(N,{value:l.paymentMethod,onValueChange:s=>g({...l,paymentMethod:s}),children:[e.jsx(f,{children:e.jsx(y,{placeholder:"Select method"})}),e.jsxs(b,{children:[e.jsx(a,{value:"cash",children:"Cash"}),e.jsx(a,{value:"bank_transfer",children:"Bank Transfer"}),e.jsx(a,{value:"cheque",children:"Cheque"}),e.jsx(a,{value:"card",children:"Card"}),e.jsx(a,{value:"online",children:"Online"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"reference",children:"Reference (Optional)"}),e.jsx(c,{id:"reference",value:l.reference,onChange:s=>g({...l,reference:s.target.value}),placeholder:"Enter reference number"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"tags",children:"Tags (Optional)"}),e.jsx(c,{id:"tags",value:l.tags,onChange:s=>g({...l,tags:s.target.value}),placeholder:"Enter tags, separated by commas"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(n,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),e.jsx(n,{onClick:ye,children:"Add Transaction"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(m,{children:e.jsx(p,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Income"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["₹",(i.totalIncome||0).toLocaleString()]})]}),e.jsx(Me,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(m,{children:e.jsx(p,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Expenses"}),e.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["₹",(i.totalExpenses||0).toLocaleString()]})]}),e.jsx(Re,{className:"h-8 w-8 text-red-600"})]})})}),e.jsx(m,{children:e.jsx(p,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Profit"}),e.jsxs("p",{className:`text-2xl font-bold ${(i.netProfit||0)>=0?"text-green-600":"text-red-600"}`,children:["₹",(i.netProfit||0).toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.profitMargin,"% margin"]})]}),e.jsx(Ve,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(m,{children:e.jsx(p,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Cash Flow"}),e.jsxs("p",{className:`text-2xl font-bold ${(i.cashFlow||0)>=0?"text-green-600":"text-red-600"}`,children:["₹",(i.cashFlow||0).toLocaleString()]})]}),e.jsx(ze,{className:"h-8 w-8 text-purple-600"})]})})})]}),e.jsxs(Ie,{defaultValue:"transactions",className:"w-full",children:[e.jsxs(Be,{children:[e.jsx(I,{value:"transactions",children:"Transactions"}),e.jsx(I,{value:"accounts",children:"Accounts"}),e.jsx(I,{value:"budgets",children:"Budgets"}),e.jsx(I,{value:"invoices",children:"Invoices"}),e.jsx(I,{value:"reports",children:"Financial Reports"})]}),e.jsxs(B,{value:"transactions",className:"space-y-4",children:[e.jsx(m,{children:e.jsx(p,{className:"p-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(qe,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(c,{placeholder:"Search transactions...",value:Y,onChange:s=>ge(s.target.value),className:"pl-10"})]})}),e.jsxs(N,{value:K,onValueChange:ve,children:[e.jsxs(f,{className:"w-48",children:[e.jsx(Ue,{className:"mr-2 h-4 w-4"}),e.jsx(y,{placeholder:"Filter by type"})]}),e.jsxs(b,{children:[e.jsx(a,{value:"all",children:"All Types"}),e.jsx(a,{value:"income",children:"Income"}),e.jsx(a,{value:"expense",children:"Expense"})]})]}),e.jsxs(N,{value:W,onValueChange:Ne,children:[e.jsx(f,{className:"w-48",children:e.jsx(y,{placeholder:"Filter by account"})}),e.jsxs(b,{children:[e.jsx(a,{value:"all",children:"All Accounts"}),k.map(s=>e.jsx(a,{value:s.id,children:s.accountName},s.id))]})]}),e.jsxs(n,{variant:"outline",children:[e.jsx(ne,{className:"mr-2 h-4 w-4"}),"Export"]})]})})}),e.jsxs(m,{children:[e.jsx(L,{children:e.jsx(P,{children:"Transaction History"})}),e.jsx(p,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(ee,{children:[e.jsx(se,{children:e.jsxs(M,{children:[e.jsx(x,{children:"Transaction #"}),e.jsx(x,{children:"Date"}),e.jsx(x,{children:"Type"}),e.jsx(x,{children:"Category"}),e.jsx(x,{children:"Description"}),e.jsx(x,{children:"Amount"}),e.jsx(x,{children:"Account"}),e.jsx(x,{children:"Status"}),e.jsx(x,{children:"Actions"})]})}),e.jsx(ae,{children:Te.slice(0,10).map(s=>e.jsxs(M,{children:[e.jsx(h,{className:"font-mono",children:s.transactionNumber}),e.jsx(h,{children:new Date(s.date).toLocaleDateString()}),e.jsx(h,{children:e.jsx(E,{className:Ae(s.type),children:s.type})}),e.jsx(h,{children:s.category}),e.jsx(h,{children:s.description}),e.jsxs(h,{className:s.type==="income"?"text-green-600 font-bold":"text-red-600 font-bold",children:[s.type==="income"?"+":"-","₹",(s.amount||0).toLocaleString()]}),e.jsx(h,{children:k.find(j=>j.id===s.account)?.accountName}),e.jsx(h,{children:e.jsx(E,{className:O(s.status),children:s.status})}),e.jsx(h,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{size:"sm",variant:"outline",children:e.jsx(_,{className:"h-4 w-4"})}),e.jsx(n,{size:"sm",variant:"outline",children:e.jsx(Z,{className:"h-4 w-4"})})]})})]},s.id))})]})})})]})]}),e.jsx(B,{value:"accounts",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(s=>e.jsx(m,{children:e.jsx(p,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.accountName}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.accountType})]}),e.jsx(E,{className:O(s.status),children:s.status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Balance:"}),e.jsxs("span",{className:"font-bold text-lg",children:["₹",(s.balance||0).toLocaleString()]})]}),s.bankName&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Bank:"}),e.jsx("span",{className:"text-sm",children:s.bankName})]}),s.accountNumber&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Account #:"}),e.jsx("span",{className:"text-sm font-mono",children:s.accountNumber})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),"View"]}),e.jsxs(n,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),"Edit"]})]})]})})},s.id))})}),e.jsx(B,{value:"budgets",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ie.map(s=>e.jsx(m,{children:e.jsx(p,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.category," • ",s.period]})]}),e.jsx(E,{className:O(s.status),children:s.status})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Allocated:"}),e.jsxs("span",{className:"font-medium",children:["₹",(s.allocatedAmount||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Spent:"}),e.jsxs("span",{className:"font-medium text-red-600",children:["₹",(s.spentAmount||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Remaining:"}),e.jsxs("span",{className:"font-medium text-green-600",children:["₹",(s.remainingAmount||0).toLocaleString()]})]}),e.jsx(X,{value:s.spentAmount/s.allocatedAmount*100,className:"w-full"}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[Math.round(s.spentAmount/s.allocatedAmount*100),"% utilized"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),"View"]}),e.jsxs(n,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Z,{className:"mr-2 h-4 w-4"}),"Edit"]})]})]})})},s.id))})}),e.jsx(B,{value:"invoices",className:"space-y-4",children:e.jsxs(m,{children:[e.jsx(L,{children:e.jsx(P,{children:"Invoices"})}),e.jsx(p,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(ee,{children:[e.jsx(se,{children:e.jsxs(M,{children:[e.jsx(x,{children:"Invoice #"}),e.jsx(x,{children:"Client"}),e.jsx(x,{children:"Date"}),e.jsx(x,{children:"Due Date"}),e.jsx(x,{children:"Amount"}),e.jsx(x,{children:"Paid"}),e.jsx(x,{children:"Status"}),e.jsx(x,{children:"Actions"})]})}),e.jsx(ae,{children:oe.slice(0,10).map(s=>e.jsxs(M,{children:[e.jsx(h,{className:"font-mono",children:s.invoiceNumber}),e.jsx(h,{children:s.clientName}),e.jsx(h,{children:new Date(s.date).toLocaleDateString()}),e.jsx(h,{children:new Date(s.dueDate).toLocaleDateString()}),e.jsxs(h,{className:"font-bold",children:["₹",(s.totalAmount||0).toLocaleString()]}),e.jsxs(h,{className:"font-bold",children:["₹",(s.paidAmount||0).toLocaleString()]}),e.jsx(h,{children:e.jsx(E,{className:O(s.status),children:s.status})}),e.jsx(h,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{size:"sm",variant:"outline",children:e.jsx(_,{className:"h-4 w-4"})}),e.jsx(n,{size:"sm",variant:"outline",children:e.jsx(ne,{className:"h-4 w-4"})})]})})]},s.id))})]})})})]})}),e.jsx(B,{value:"reports",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(m,{children:[e.jsx(L,{children:e.jsx(P,{children:"Financial Summary"})}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Total Income"}),e.jsxs("span",{className:"font-bold text-green-600",children:["₹",(i.totalIncome||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Total Expenses"}),e.jsxs("span",{className:"font-bold text-red-600",children:["₹",(i.totalExpenses||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Net Profit"}),e.jsxs("span",{className:`font-bold ${(i.netProfit||0)>=0?"text-green-600":"text-red-600"}`,children:["₹",(i.netProfit||0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Profit Margin"}),e.jsxs("span",{className:"font-bold",children:[i.profitMargin,"%"]})]}),e.jsx(X,{value:i.profitMargin,className:"w-full"})]})})]}),e.jsxs(m,{children:[e.jsx(L,{children:e.jsx(P,{children:"Account Overview"})}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:i.totalAccounts}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Accounts"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 rounded",children:[e.jsx("div",{className:"text-lg font-bold text-orange-600",children:i.outstandingInvoices}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Outstanding Invoices"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Budget Utilization"}),e.jsxs("span",{className:"font-bold",children:[i.budgetUtilization,"%"]})]}),e.jsx(X,{value:i.budgetUtilization,className:"w-full"})]})]})})]})]})})]})]})}export{Je as AccountsManagement};
