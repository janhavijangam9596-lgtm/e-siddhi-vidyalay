import{r as d,j as e}from"./ui-vendor-CZ9oH99c.js";import{d as D,t as v,B as n,L as i,S as f,e as y,f as b,g as w,h as t,I as c,C as x,c as o,T as ze,i as Ee,j as O,k,A,m as L,n as z,l as S,a as Y,b as J}from"./index-CbaydhWW.js";import{T as We,a as Ie,b as ne,c as u,d as Re,e as g}from"./table-SvwjoT6S.js";import{D as K,a as Z,b as Q,c as X,d as _,e as ee}from"./dialog-GASJ86Ds.js";import{T as E}from"./textarea-Drs0EPqH.js";import{C as Ve}from"./calendar-C1WlRAYT.js";import{R as qe,g as se,as as $e,aG as W,Z as de,k as T,c as ce,U as he,a8 as ae,aH as xe,n as Ge,s as He,a4 as Ue,a0 as Ye,a9 as Je,K as oe,a7 as me,aj as Ke}from"./icons-vendor-WGRqNp00.js";import"./react-vendor-Dazix4UH.js";import"./db-vendor-BlTxHScW.js";import"./charts-vendor-CAKBN1xl.js";function ds(){const[C,je]=d.useState([]),[ue,ge]=d.useState([]),[p,pe]=d.useState({todaysBirthdays:0,thisWeekBirthdays:0,thisMonthBirthdays:0,totalCelebrations:0,studentsThisMonth:0,staffThisMonth:0,parentsThisMonth:0,upcomingCelebrations:0}),[Ze,Ne]=d.useState(!0),[ve,I]=d.useState(!1),[fe,R]=d.useState(!1),[ye,V]=d.useState(!1),[te,be]=d.useState(""),[q,we]=d.useState(""),[$,Ce]=d.useState(""),[le,Qe]=d.useState(""),[B,Be]=d.useState(new Date),[a,h]=d.useState({name:"",type:"student",dateOfBirth:"",class:"",rollNumber:"",department:"",designation:"",contactNumber:"",email:"",address:"",relationship:"",guardianOf:""}),[r,m]=d.useState({personId:"",celebrationType:"simple",venue:"",celebrationDate:"",celebrationTime:"",budget:"",organizedBy:"",guestList:"",specialRequests:""}),[N,P]=d.useState({personId:"",wishText:"",isPublic:!0});d.useEffect(()=>{F()},[]);const F=async()=>{try{const[s,l,j]=await Promise.all([D.getBirthdays(),D.getBirthdayEvents(),D.getBirthdayStats()]);je(s),ge(l),pe(j)}catch(s){v.error("Failed to load birthday data"),console.error(s)}finally{Ne(!1)}},De=async()=>{try{const s={...a,age:new Date().getFullYear()-new Date(a.dateOfBirth).getFullYear(),status:"active"};await D.createBirthday(s),v.success("Birthday added successfully"),I(!1),Fe(),F()}catch(s){v.error("Failed to add birthday"),console.error(s)}},Se=async()=>{try{const s={...r,budget:parseFloat(r.budget)||0,guestList:r.guestList.split(",").map(l=>l.trim()).filter(l=>l),celebrationPlanned:!0,gifts:[],wishes:[],photos:[],status:"upcoming"};await D.createBirthdayCelebration(s),v.success("Celebration planned successfully"),R(!1),Oe(),F()}catch(s){v.error("Failed to plan celebration"),console.error(s)}},Te=async()=>{try{const s={...N,wisherName:"Current User",wisherType:"admin",date:new Date().toISOString()};await D.sendBirthdayWish(s),v.success("Birthday wish sent successfully"),V(!1),ke(),F()}catch(s){v.error("Failed to send wish"),console.error(s)}},Fe=()=>{h({name:"",type:"student",dateOfBirth:"",class:"",rollNumber:"",department:"",designation:"",contactNumber:"",email:"",address:"",relationship:"",guardianOf:""})},Oe=()=>{m({personId:"",celebrationType:"simple",venue:"",celebrationDate:"",celebrationTime:"",budget:"",organizedBy:"",guestList:"",specialRequests:""})},ke=()=>{P({personId:"",wishText:"",isPublic:!0})},G=s=>{switch(s){case"student":return"bg-blue-100 text-blue-800";case"staff":return"bg-green-100 text-green-800";case"parent":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},ie=s=>{switch(s){case"upcoming":return"bg-yellow-100 text-yellow-800";case"celebrated":return"bg-green-100 text-green-800";case"missed":return"bg-red-100 text-red-800";case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Pe=s=>{switch(s){case"simple":return"bg-blue-100 text-blue-800";case"party":return"bg-purple-100 text-purple-800";case"special":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},H=s=>{const l=new Date,j=new Date(s);return l.getMonth()===j.getMonth()&&l.getDate()===j.getDate()},Me=s=>{const l=new Date,j=new Date(s);j.setFullYear(l.getFullYear());const M=new Date(l);M.setDate(l.getDate()-l.getDay());const re=new Date(M);return re.setDate(M.getDate()+6),j>=M&&j<=re},Ae=C.filter(s=>s.name.toLowerCase().includes(te.toLowerCase())&&(q===""||s.type===q)&&(le===""||s.status===le)&&($===""||new Date(s.dateOfBirth).getMonth()===parseInt($))),U=C.filter(s=>H(s.dateOfBirth)),Le=C.filter(s=>Me(s.dateOfBirth));return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{children:"Birthday Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Celebrate and manage birthdays for students, staff, and parents"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{variant:"outline",onClick:F,children:[e.jsx(qe,{className:"mr-2 h-4 w-4"}),"Refresh"]}),e.jsxs(K,{open:ye,onOpenChange:V,children:[e.jsx(Z,{asChild:!0,children:e.jsxs(n,{variant:"outline",children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),"Send Wishes"]})}),e.jsxs(Q,{children:[e.jsxs(X,{children:[e.jsx(_,{children:"Send Birthday Wishes"}),e.jsx(ee,{children:"Send personalized birthday wishes"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"wishPerson",children:"Select Person"}),e.jsxs(f,{value:N.personId,onValueChange:s=>P({...N,personId:s}),children:[e.jsx(y,{children:e.jsx(b,{placeholder:"Select person"})}),e.jsx(w,{children:U.map(s=>e.jsxs(t,{value:s.id,children:[s.name," (",s.type,")"]},s.id))})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"wishText",children:"Birthday Message"}),e.jsx(E,{id:"wishText",value:N.wishText,onChange:s=>P({...N,wishText:s.target.value}),placeholder:"Write a heartfelt birthday message...",rows:4})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"isPublic",checked:N.isPublic,onChange:s=>P({...N,isPublic:s.target.checked})}),e.jsx(i,{htmlFor:"isPublic",children:"Make this wish public"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(n,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),e.jsxs(n,{onClick:Te,children:[e.jsx($e,{className:"mr-2 h-4 w-4"}),"Send Wishes"]})]})]})]}),e.jsxs(K,{open:fe,onOpenChange:R,children:[e.jsx(Z,{asChild:!0,children:e.jsxs(n,{variant:"outline",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Plan Celebration"]})}),e.jsxs(Q,{className:"max-w-2xl",children:[e.jsxs(X,{children:[e.jsx(_,{children:"Plan Birthday Celebration"}),e.jsx(ee,{children:"Organize a special birthday celebration"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"celebrationPerson",children:"Select Person"}),e.jsxs(f,{value:r.personId,onValueChange:s=>m({...r,personId:s}),children:[e.jsx(y,{children:e.jsx(b,{placeholder:"Select person"})}),e.jsx(w,{children:C.map(s=>e.jsxs(t,{value:s.id,children:[s.name," (",s.type,") - ",new Date(s.dateOfBirth).toLocaleDateString()]},s.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"celebrationType",children:"Celebration Type"}),e.jsxs(f,{value:r.celebrationType,onValueChange:s=>m({...r,celebrationType:s}),children:[e.jsx(y,{children:e.jsx(b,{placeholder:"Select type"})}),e.jsxs(w,{children:[e.jsx(t,{value:"simple",children:"Simple Celebration"}),e.jsx(t,{value:"party",children:"Birthday Party"}),e.jsx(t,{value:"special",children:"Special Event"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"venue",children:"Venue"}),e.jsx(c,{id:"venue",value:r.venue,onChange:s=>m({...r,venue:s.target.value}),placeholder:"Enter venue"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"celebrationDate",children:"Celebration Date"}),e.jsx(c,{id:"celebrationDate",type:"date",value:r.celebrationDate,onChange:s=>m({...r,celebrationDate:s.target.value})})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"celebrationTime",children:"Time"}),e.jsx(c,{id:"celebrationTime",type:"time",value:r.celebrationTime,onChange:s=>m({...r,celebrationTime:s.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"budget",children:"Budget"}),e.jsx(c,{id:"budget",type:"number",value:r.budget,onChange:s=>m({...r,budget:s.target.value}),placeholder:"Enter budget amount"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"organizedBy",children:"Organized By"}),e.jsx(c,{id:"organizedBy",value:r.organizedBy,onChange:s=>m({...r,organizedBy:s.target.value}),placeholder:"Who is organizing?"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"guestList",children:"Guest List"}),e.jsx(E,{id:"guestList",value:r.guestList,onChange:s=>m({...r,guestList:s.target.value}),placeholder:"Enter guest names (comma-separated)",rows:3})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"specialRequests",children:"Special Requests"}),e.jsx(E,{id:"specialRequests",value:r.specialRequests,onChange:s=>m({...r,specialRequests:s.target.value}),placeholder:"Any special arrangements or requests...",rows:2})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(n,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),e.jsxs(n,{onClick:Se,children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Plan Celebration"]})]})]})]}),e.jsxs(K,{open:ve,onOpenChange:I,children:[e.jsx(Z,{asChild:!0,children:e.jsxs(n,{children:[e.jsx(de,{className:"mr-2 h-4 w-4"}),"Add Birthday"]})}),e.jsxs(Q,{className:"max-w-2xl",children:[e.jsxs(X,{children:[e.jsx(_,{children:"Add New Birthday"}),e.jsx(ee,{children:"Add birthday information for students, staff, or parents"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"name",children:"Full Name"}),e.jsx(c,{id:"name",value:a.name,onChange:s=>h({...a,name:s.target.value}),placeholder:"Enter full name"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"type",children:"Type"}),e.jsxs(f,{value:a.type,onValueChange:s=>h({...a,type:s}),children:[e.jsx(y,{children:e.jsx(b,{placeholder:"Select type"})}),e.jsxs(w,{children:[e.jsx(t,{value:"student",children:"Student"}),e.jsx(t,{value:"staff",children:"Staff"}),e.jsx(t,{value:"parent",children:"Parent"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"dateOfBirth",children:"Date of Birth"}),e.jsx(c,{id:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:s=>h({...a,dateOfBirth:s.target.value})})]}),a.type==="student"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"class",children:"Class"}),e.jsx(c,{id:"class",value:a.class,onChange:s=>h({...a,class:s.target.value}),placeholder:"Enter class"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"rollNumber",children:"Roll Number"}),e.jsx(c,{id:"rollNumber",value:a.rollNumber,onChange:s=>h({...a,rollNumber:s.target.value}),placeholder:"Enter roll number"})]})]}),a.type==="staff"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"department",children:"Department"}),e.jsx(c,{id:"department",value:a.department,onChange:s=>h({...a,department:s.target.value}),placeholder:"Enter department"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"designation",children:"Designation"}),e.jsx(c,{id:"designation",value:a.designation,onChange:s=>h({...a,designation:s.target.value}),placeholder:"Enter designation"})]})]}),a.type==="parent"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"relationship",children:"Relationship"}),e.jsxs(f,{value:a.relationship,onValueChange:s=>h({...a,relationship:s}),children:[e.jsx(y,{children:e.jsx(b,{placeholder:"Select relationship"})}),e.jsxs(w,{children:[e.jsx(t,{value:"father",children:"Father"}),e.jsx(t,{value:"mother",children:"Mother"}),e.jsx(t,{value:"guardian",children:"Guardian"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"guardianOf",children:"Guardian Of"}),e.jsx(c,{id:"guardianOf",value:a.guardianOf,onChange:s=>h({...a,guardianOf:s.target.value}),placeholder:"Student name"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"contactNumber",children:"Contact Number"}),e.jsx(c,{id:"contactNumber",value:a.contactNumber,onChange:s=>h({...a,contactNumber:s.target.value}),placeholder:"Enter contact number"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"email",children:"Email"}),e.jsx(c,{id:"email",type:"email",value:a.email,onChange:s=>h({...a,email:s.target.value}),placeholder:"Enter email address"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"address",children:"Address"}),e.jsx(E,{id:"address",value:a.address,onChange:s=>h({...a,address:s.target.value}),placeholder:"Enter address",rows:3})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(n,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),e.jsxs(n,{onClick:De,children:[e.jsx(de,{className:"mr-2 h-4 w-4"}),"Add Birthday"]})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(x,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Today's Birthdays"}),e.jsx("p",{className:"text-2xl font-bold",children:p.todaysBirthdays}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Celebrate today!"})]}),e.jsx(T,{className:"h-8 w-8 text-pink-600"})]})})}),e.jsx(x,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"This Week"}),e.jsx("p",{className:"text-2xl font-bold",children:p.thisWeekBirthdays}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Upcoming celebrations"})]}),e.jsx(ce,{className:"h-8 w-8 text-blue-600"})]})})}),e.jsx(x,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold",children:p.thisMonthBirthdays}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Students: ",p.studentsThisMonth]})," |",e.jsxs("span",{children:[" Staff: ",p.staffThisMonth]})]})]}),e.jsx(he,{className:"h-8 w-8 text-green-600"})]})})}),e.jsx(x,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Celebrations"}),e.jsx("p",{className:"text-2xl font-bold",children:p.totalCelebrations}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[p.upcomingCelebrations," upcoming"]})]}),e.jsx(W,{className:"h-8 w-8 text-purple-600"})]})})})]}),e.jsxs(ze,{defaultValue:"today",className:"w-full",children:[e.jsxs(Ee,{children:[e.jsx(O,{value:"today",children:"Today's Birthdays"}),e.jsx(O,{value:"upcoming",children:"Upcoming"}),e.jsx(O,{value:"all",children:"All Birthdays"}),e.jsx(O,{value:"celebrations",children:"Celebrations"}),e.jsx(O,{value:"calendar",children:"Calendar View"})]}),e.jsx(k,{value:"today",className:"space-y-4",children:U.length===0?e.jsx(x,{children:e.jsxs(o,{className:"p-12 text-center",children:[e.jsx(T,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Birthdays Today"}),e.jsx("p",{className:"text-muted-foreground",children:"Check back tomorrow for more celebrations!"})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map(s=>e.jsx(x,{className:"overflow-hidden border-2 border-pink-200 bg-gradient-to-br from-pink-50 to-purple-50",children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(A,{className:"h-16 w-16",children:[e.jsx(L,{src:s.photo}),e.jsx(z,{className:"bg-pink-100 text-pink-600",children:s.name.split(" ").map(l=>l[0]).join("")})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5 text-pink-600"}),e.jsx("span",{className:"text-sm font-medium text-pink-600",children:"Happy Birthday!"})]}),e.jsx("h3",{className:"font-semibold text-lg",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Turning ",s.age," today"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{className:G(s.type),children:s.type}),s.type==="student"&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Class: ",s.class," | Roll: ",s.rollNumber]}),s.type==="staff"&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.designation," - ",s.department]}),s.contactNumber&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsx("span",{children:s.contactNumber})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{size:"sm",className:"flex-1 bg-pink-600 hover:bg-pink-700",children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),"Send Wishes"]}),e.jsxs(n,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(xe,{className:"mr-2 h-4 w-4"}),"Plan Party"]})]})]})})},s.id))})}),e.jsx(k,{value:"upcoming",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Le.filter(s=>!H(s.dateOfBirth)).map(s=>e.jsx(x,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(A,{className:"h-12 w-12",children:[e.jsx(L,{src:s.photo}),e.jsx(z,{children:s.name.split(" ").map(l=>l[0]).join("")})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(s.dateOfBirth).toLocaleDateString()," (Age ",s.age+1,")"]})]}),e.jsx(S,{className:G(s.type),children:s.type})]}),e.jsxs("div",{className:"text-sm space-y-1",children:[s.type==="student"&&e.jsxs("div",{children:["Class: ",s.class," | Roll: ",s.rollNumber]}),s.type==="staff"&&e.jsxs("div",{children:[s.designation," - ",s.department]}),s.contactNumber&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsx("span",{children:s.contactNumber})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Set Reminder"]}),e.jsxs(n,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(W,{className:"mr-2 h-4 w-4"}),"Plan Ahead"]})]})]})})},s.id))})}),e.jsxs(k,{value:"all",className:"space-y-4",children:[e.jsx(x,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("div",{className:"flex-1 min-w-64",children:e.jsxs("div",{className:"relative",children:[e.jsx(He,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(c,{placeholder:"Search birthdays...",value:te,onChange:s=>be(s.target.value),className:"pl-10"})]})}),e.jsxs(f,{value:q,onValueChange:we,children:[e.jsxs(y,{className:"w-48",children:[e.jsx(Ue,{className:"mr-2 h-4 w-4"}),e.jsx(b,{placeholder:"Filter by type"})]}),e.jsxs(w,{children:[e.jsx(t,{value:"all",children:"All Types"}),e.jsx(t,{value:"student",children:"Students"}),e.jsx(t,{value:"staff",children:"Staff"}),e.jsx(t,{value:"parent",children:"Parents"})]})]}),e.jsxs(f,{value:$,onValueChange:Ce,children:[e.jsx(y,{className:"w-48",children:e.jsx(b,{placeholder:"Filter by month"})}),e.jsxs(w,{children:[e.jsx(t,{value:"all",children:"All Months"}),e.jsx(t,{value:"0",children:"January"}),e.jsx(t,{value:"1",children:"February"}),e.jsx(t,{value:"2",children:"March"}),e.jsx(t,{value:"3",children:"April"}),e.jsx(t,{value:"4",children:"May"}),e.jsx(t,{value:"5",children:"June"}),e.jsx(t,{value:"6",children:"July"}),e.jsx(t,{value:"7",children:"August"}),e.jsx(t,{value:"8",children:"September"}),e.jsx(t,{value:"9",children:"October"}),e.jsx(t,{value:"10",children:"November"}),e.jsx(t,{value:"11",children:"December"})]})]}),e.jsxs(n,{variant:"outline",children:[e.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Export"]})]})})}),e.jsxs(x,{children:[e.jsx(Y,{children:e.jsx(J,{children:"All Birthdays"})}),e.jsx(o,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(We,{children:[e.jsx(Ie,{children:e.jsxs(ne,{children:[e.jsx(u,{children:"Name"}),e.jsx(u,{children:"Type"}),e.jsx(u,{children:"Date of Birth"}),e.jsx(u,{children:"Age"}),e.jsx(u,{children:"Details"}),e.jsx(u,{children:"Contact"}),e.jsx(u,{children:"Status"}),e.jsx(u,{children:"Actions"})]})}),e.jsx(Re,{children:Ae.slice(0,20).map(s=>e.jsxs(ne,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(A,{className:"h-8 w-8",children:[e.jsx(L,{src:s.photo}),e.jsx(z,{children:s.name.split(" ").map(l=>l[0]).join("")})]}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),H(s.dateOfBirth)&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-pink-600",children:[e.jsx(T,{className:"h-3 w-3"}),"Birthday Today!"]})]})]})}),e.jsx(g,{children:e.jsx(S,{className:G(s.type),children:s.type})}),e.jsx(g,{children:new Date(s.dateOfBirth).toLocaleDateString()}),e.jsx(g,{children:s.age}),e.jsx(g,{children:e.jsxs("div",{className:"text-sm",children:[s.type==="student"&&`${s.class} - ${s.rollNumber}`,s.type==="staff"&&`${s.designation}`,s.type==="parent"&&`${s.relationship} of ${s.guardianOf}`]})}),e.jsx(g,{children:e.jsxs("div",{className:"text-sm space-y-1",children:[s.contactNumber&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ae,{className:"h-3 w-3"}),e.jsx("span",{children:s.contactNumber})]}),s.email&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Je,{className:"h-3 w-3"}),e.jsx("span",{className:"truncate max-w-32",children:s.email})]})]})}),e.jsx(g,{children:e.jsx(S,{className:ie(s.status),children:s.status})}),e.jsx(g,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{size:"sm",variant:"outline",children:e.jsx(oe,{className:"h-4 w-4"})}),e.jsx(n,{size:"sm",variant:"outline",children:e.jsx(me,{className:"h-4 w-4"})}),e.jsx(n,{size:"sm",variant:"outline",children:e.jsx(se,{className:"h-4 w-4"})})]})})]},s.id))})]})})})]})]}),e.jsx(k,{value:"celebrations",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:ue.map(s=>e.jsx(x,{children:e.jsx(o,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-lg",children:[s.personName,"'s Birthday"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Celebrating ",s.age," years"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(S,{className:Pe(s.celebrationType),children:s.celebrationType}),e.jsx(S,{className:ie(s.status),children:s.status})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.celebrationDate?`${new Date(s.celebrationDate).toLocaleDateString()} at ${s.celebrationTime}`:new Date(s.birthdayDate).toLocaleDateString()})]}),s.venue&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.venue})]}),s.organizedBy&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["Organized by ",s.organizedBy]})]}),s.budget&&s.budget>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-4 w-4 text-muted-foreground"}),e.jsxs("span",{children:["Budget: ₹",s.budget.toLocaleString()]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Guests:"}),e.jsx("span",{className:"font-medium",children:s.guestList.length})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Gifts:"}),e.jsx("span",{className:"font-medium",children:s.gifts.length})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Wishes:"}),e.jsx("span",{className:"font-medium",children:s.wishes.length})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(oe,{className:"mr-2 h-4 w-4"}),"View Details"]}),e.jsxs(n,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(me,{className:"mr-2 h-4 w-4"}),"Edit Event"]})]})]})})},s.id))})}),e.jsx(k,{value:"calendar",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(x,{className:"lg:col-span-2",children:[e.jsx(Y,{children:e.jsx(J,{children:"Birthday Calendar"})}),e.jsx(o,{children:e.jsx(Ve,{mode:"single",selected:B,onSelect:s=>s&&Be(s),className:"rounded-md border"})})]}),e.jsxs(x,{children:[e.jsx(Y,{children:e.jsxs(J,{children:["Birthdays on ",B.toLocaleDateString()]})}),e.jsx(o,{children:e.jsxs("div",{className:"space-y-3",children:[C.filter(s=>{const l=new Date(s.dateOfBirth);return l.getMonth()===B.getMonth()&&l.getDate()===B.getDate()}).map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-2 border rounded-lg",children:[e.jsxs(A,{className:"h-8 w-8",children:[e.jsx(L,{src:s.photo}),e.jsx(z,{children:s.name.split(" ").map(l=>l[0]).join("")})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-sm",children:s.name}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.type," • Age ",s.age]})]}),e.jsx(T,{className:"h-4 w-4 text-pink-600"})]},s.id)),C.filter(s=>{const l=new Date(s.dateOfBirth);return l.getMonth()===B.getMonth()&&l.getDate()===B.getDate()}).length===0&&e.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[e.jsx(T,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"No birthdays on this date"})]})]})})]})]})})]})]})}export{ds as BirthdayManagement};
